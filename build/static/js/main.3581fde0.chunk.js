(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,a,t){e.exports=t(362)},193:function(e,a,t){},194:function(e,a,t){},362:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(11),r=t.n(i),o=(t(193),t(38)),s=t(27),c=t(41),d=t(39),u=t(12),h=t(42),p=(t(194),t(421)),m=t(174),g=t(402),f=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this,e))).state={loading:!1},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){window.createScene()}},{key:"render",value:function(){return l.a.createElement("div",{id:"viewer"},l.a.createElement("div",{id:"loadingScreen"},l.a.createElement(m.a,{in:this.props.loading,style:{transitionDelay:this.state.loading?"800ms":"0ms"},unmountOnExit:!0},l.a.createElement(g.a,{disableShrink:!0,size:100}))))}}]),a}(n.Component),E=t(44),b=t(165),w=t(35),v=t(2),x=t(416),_=t(31),C=t(423),y=t(175),O=t(173),k=t.n(O),S=t(172),j=t.n(S),M=t(427),D=t(417),T=t(419),U=t(121),I=t(418),R=t(409),F=t(425),L=t(430),A=t(420),P=t(432),X=t(431),Y=t(428),N=t(119),z=t.n(N),B=t(36),V=t.n(B),W=t(116),J=t.n(W),H=t(118),G=t.n(H),q=t(117),$=t.n(q),K=t(171),Q=t.n(K),Z=t(115),ee=t.n(Z),ae=t(120),te=t.n(ae),ne=t(170),le=t.n(ne),ie=t(411),re=t(415),oe=t(413),se=t(412),ce=t(166),de=t(82),ue=t.n(de),he=t(408),pe=t(407),me=t(167),ge=t(403),fe=t(429),Ee=t(60),be=t(426),we=t(424),ve=t(433),xe=t(410),_e=t(422),Ce=t(414),ye=t(114),Oe=t.n(ye),ke=t(113),Se=t.n(ke),je=t(169),Me=t.n(je),De=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this,e))).handleTexturePositionChange=function(e){return function(a,n){t.updatingSlider||t.state[e]===n||t.setState(Object(w.a)({},e,n),function(){window.changeReferencePosition(t.props.index,t.state.transX,t.state.transY,t.state.scaleX,t.state.scaleY,t.state.rotation,t.state.scale)})}},t.DEFAULT_RES=t.props.isMobile?t.props.low_res:t.props.med_res,t.DEFAULT_SCALE=.2*t.props.max_ext!==0?Math.max(.2*t.props.min_ext,.2*t.props.max_ext):.2*t.props.min_ext,t.state={anchorEl_tex:void 0,anchorEl_obj:void 0,dialogOpen:!1,loading:!1,img_url:t.props.def_img_url?t.props.def_img_url:window.placeholderImage(t.props.index),img_file:null,enabled:!!t.props.def_res,usable:!t.props.def_state||t.props.def_state,scale:t.props.def_ext?t.props.def_ext:t.DEFAULT_SCALE,resolution:t.props.def_res?t.props.def_res:t.DEFAULT_RES,reference:t.props.def_ref?t.props.def_ref:"positive",transX:t.props.def_transX,transY:t.props.def_transY,scaleX:t.props.def_scaleX,scaleY:t.props.def_scaleY,rotation:t.props.def_rotation},t.updatingSlider=!1,t.handleOpenMenu=t.handleOpenMenu.bind(Object(u.a)(t)),t.handleOpenTexMenu=t.handleOpenTexMenu.bind(Object(u.a)(t)),t.handleCloseMenu=t.handleCloseMenu.bind(Object(u.a)(t)),t.handleOpenDialog=t.handleOpenDialog.bind(Object(u.a)(t)),t.handleCloseDialog=t.handleCloseDialog.bind(Object(u.a)(t)),t.handleCheck=t.handleCheck.bind(Object(u.a)(t)),t.onImageAdd=t.onImageAdd.bind(Object(u.a)(t)),t.onImageAddError=t.onImageAddError.bind(Object(u.a)(t)),t.onImageRemove=t.onImageRemove.bind(Object(u.a)(t)),t.handleScaleChange=Object(me.throttle)(t.handleScaleSliderChange.bind(Object(u.a)(t)),100),t.handleResSliderChange=t.handleResSliderChange.bind(Object(u.a)(t)),t.handleRefTypeChange=t.handleRefTypeChange.bind(Object(u.a)(t)),t.handleTexturePositionChange=t.handleTexturePositionChange.bind(Object(u.a)(t)),t.handleTexturePositionReset=t.handleTexturePositionReset.bind(Object(u.a)(t)),t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"handleOpenMenu",value:function(e){this.setState({anchorEl_obj:e.currentTarget})}},{key:"handleOpenTexMenu",value:function(e){this.setState({anchorEl_tex:e.currentTarget})}},{key:"handleCloseMenu",value:function(){this.setState({anchorEl_tex:null,anchorEl_obj:null})}},{key:"handleOpenDialog",value:function(){this.setState({dialogOpen:!0})}},{key:"handleCloseDialog",value:function(){this.setState({dialogOpen:!1})}},{key:"handleCheck",value:function(e){var a=this;if(this.state.usable!==e.target.checked){var t=this.state.usable;this.setState({usable:!t},function(){window.changeReferenceState(a.props.index,a.state.usable,a.state.scale)})}}},{key:"onImageAdd",value:function(e){var a=this;e.length>0&&this.setState({img_url:e[0].preview.url,img_file:e[0],enabled:!0},function(){a.refs.files.setState({files:[]}),a.props.loading(),window.addReference(a.props.index,a.state.img_url,a.state.resolution,a.state.scale).then(function(e){a.props.loading()})})}},{key:"onImageAddError",value:function(e){this.props.warningFunc(e.message)}},{key:"onImageRemove",value:function(){var e=this;this.setState({img_url:window.placeholderImage(this.props.index),img_file:null,enabled:!1,usable:!1,scale:this.DEFAULT_SCALE,resolution:this.DEFAULT_RES},function(){e.refs.files.setState({files:[]}),e.props.loading(),window.removeReference(e.props.index).then(function(a){e.props.loading()})})}},{key:"handleScaleSliderChange",value:function(e,a){var t=this;this.updatingSlider||this.state.scale===a||this.setState({scale:a},function(){window.applyReference(t.props.index,t.state.scale)})}},{key:"handleResSliderChange",value:function(e,a){var t=this;this.setState({resolution:a},function(){t.props.loading(),window.updateSurface(t.props.index,t.state.resolution,t.state.scale).then(function(e){t.props.loading()})})}},{key:"handleRefTypeChange",value:function(e,a){var t=this;this.state.reference!==a&&this.setState({reference:a},function(){window.changeReferenceType(t.props.index,t.state.reference,t.state.scale)})}},{key:"handleTexturePositionReset",value:function(e){var a=this;this.updatingSlider=!0,this.setState({transX:0,transY:0,scaleX:100,scaleY:100,rotation:0},function(){window.changeReferencePosition(a.props.index,a.state.transX,a.state.transY,a.state.scaleX,a.state.scaleY,a.state.rotation,a.state.scale)}),this.updatingSlider=!1}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ge.a,{key:"item-".concat(this.props.item)},l.a.createElement(p.a,{width:"100%",height:80,display:"flex"},l.a.createElement(ue.a,{className:"files-dropzone",ref:"files",onChange:this.onImageAdd,onError:this.onImageAddError,accepts:["image/*"],multiple:!1,maxFiles:1,maxFileSize:1e7,minFileSize:0,clickable:!0},l.a.createElement(p.a,{width:80,height:80,alignSelf:"flex-start"},l.a.createElement(Ee.a,{focusRipple:!0,key:this.props.item+1,style:{width:"100%",height:"100%",backgroundImage:"url(".concat(this.state.img_url,")"),backgroundSize:"cover"}},l.a.createElement("span",{className:"showonfocus"},l.a.createElement(fe.a,{title:this.state.enabled?"Change Image":"Add Image",enterDelay:100},l.a.createElement(Me.a,{style:{color:"white",opacity:.6,width:"50%",height:"50%"}})))))),l.a.createElement(p.a,{height:80,flexDirection:"column",flexGrow:1,alignSelf:"center"},l.a.createElement(p.a,{height:40,pl:3,display:"flex",flexGrow:1,alignItems:"center"},l.a.createElement(U.a,null,this.props.title)),l.a.createElement(pe.a,null),l.a.createElement(p.a,{height:40,pl:1,display:"flex",flexGrow:1,alignItems:"center"},this.state.enabled?l.a.createElement(fe.a,{title:"Clear",enterDelay:100},l.a.createElement(y.a,{"aria-label":"delete",onClick:this.handleOpenDialog},l.a.createElement(Se.a,null))):l.a.createElement(y.a,{disabled:!this.state.enabled,"aria-label":"delete",onClick:this.handleOpenDialog},l.a.createElement(Se.a,null)),this.state.enabled?l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a,{title:"Move/Rotate",enterDelay:100},l.a.createElement(y.a,{disabled:!this.state.enabled,"aria-controls":"texture-menu"+this.props.item,"aria-haspopup":"true",onClick:this.handleOpenTexMenu},l.a.createElement(Oe.a,null))),l.a.createElement(be.a,{id:"texture-menu"+this.props.item,anchorEl:this.state.anchorEl_tex,keepMounted:!0,open:Boolean(this.state.anchorEl_tex),onClose:this.handleCloseMenu},l.a.createElement(p.a,{px:2,py:1,display:"flex",flexDirection:"column",flexGrow:1,alignItems:"center"},l.a.createElement(U.a,null,"Translate X"),l.a.createElement(ve.a,{onChange:this.handleTexturePositionChange("transX"),value:this.state.transX,"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",step:1,marks:!0,min:-100,max:100}),l.a.createElement(U.a,null,"Translate Y"),l.a.createElement(ve.a,{onChange:this.handleTexturePositionChange("transY"),value:this.state.transY,"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",step:1,marks:!0,min:-100,max:100}),l.a.createElement(U.a,null,"Scale X"),l.a.createElement(ve.a,{onChange:this.handleTexturePositionChange("scaleX"),value:this.state.scaleX,"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",step:1,marks:!0,min:50,max:200}),l.a.createElement(U.a,null,"Scale Y"),l.a.createElement(ve.a,{onChange:this.handleTexturePositionChange("scaleY"),value:this.state.scaleY,"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",step:1,marks:!0,min:50,max:200}),l.a.createElement(U.a,null,"Rotate"),l.a.createElement(ve.a,{onChange:this.handleTexturePositionChange("rotation"),value:this.state.rotation,"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",step:Math.PI/32,marks:!0,min:0,max:2*Math.PI}),l.a.createElement(R.a,{variant:"contained",onClick:this.handleTexturePositionReset},"Reset")))):l.a.createElement(y.a,{disabled:!this.state.enabled,"aria-controls":"texture-menu"+this.props.item,"aria-haspopup":"true",onClick:this.handleOpenTexMenu},l.a.createElement(Oe.a,null)),this.state.enabled?l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a,{title:"Volume",enterDelay:100},l.a.createElement(y.a,{disabled:!this.state.enabled,"aria-controls":"sculpting-menu"+this.props.item,"aria-haspopup":"true",onClick:this.handleOpenMenu},l.a.createElement(V.a,null))),l.a.createElement(be.a,{id:"sculpting-menu"+this.props.item,anchorEl:this.state.anchorEl_obj,keepMounted:!0,open:Boolean(this.state.anchorEl_obj),onClose:this.handleCloseMenu},l.a.createElement(p.a,{px:2,py:1,display:"flex",flexDirection:"column",flexGrow:1,alignItems:"center"},l.a.createElement(U.a,null,"Image Reference"),l.a.createElement(_e.a,{value:this.state.reference,exclusive:!0,onChange:this.handleRefTypeChange,"aria-label":"reference"},l.a.createElement(xe.a,{value:"positive","aria-label":"positive",disabled:"positive"===this.state.reference},"Positive"),l.a.createElement(xe.a,{value:"negative","aria-label":"negative",disabled:"negative"===this.state.reference},"Negative")),l.a.createElement(U.a,null,"Extrude Scale"),l.a.createElement(ve.a,{onChange:this.handleScaleChange,defaultValue:this.state.scale,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,marks:!0,min:this.props.min_ext,max:this.props.max_ext}),l.a.createElement(U.a,null,"Resolution"),l.a.createElement(_e.a,{value:this.state.resolution,exclusive:!0,onChange:this.handleResSliderChange,"aria-label":"resolution"},l.a.createElement(xe.a,{value:this.props.low_res,"aria-label":"low",disabled:this.state.resolution===this.props.low_res},"low"),l.a.createElement(xe.a,{value:this.props.med_res,"aria-label":"mid",disabled:this.state.resolution===this.props.med_res},"mid"),l.a.createElement(xe.a,{value:this.props.high_res,"aria-label":"high",disabled:this.state.resolution===this.props.high_res},"high"),l.a.createElement(xe.a,{value:this.props.ultra_res,"aria-label":"ultra",disabled:this.state.resolution===this.props.ultra_res},"ultra"))))):l.a.createElement(y.a,{disabled:!this.state.enabled,"aria-controls":"sculpting-menu"+this.props.item,"aria-haspopup":"true",onClick:this.handleOpenMenu},l.a.createElement(V.a,null)))),l.a.createElement(p.a,{width:40,height:80,display:"flex",alignItems:"center",alignSelf:"flex-end"},this.state.enabled?this.state.usable?l.a.createElement(fe.a,{title:"Disable",enterDelay:100},l.a.createElement(we.a,{disabled:!this.state.enabled,checked:this.state.usable,onChange:this.handleCheck})):l.a.createElement(fe.a,{title:"Enable",enterDelay:100},l.a.createElement(we.a,{disabled:!this.state.enabled,checked:this.state.usable,onChange:this.handleCheck})):l.a.createElement(we.a,{disabled:!this.state.enabled,checked:this.state.usable,onChange:this.handleCheck})))),l.a.createElement(ie.a,{open:this.state.dialogOpen,onClose:this.handleCloseDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(se.a,{id:"alert-dialog-title"},"Clear surface?"),l.a.createElement(oe.a,null,l.a.createElement(Ce.a,{id:"alert-dialog-description"},"Do you wish to clear the data on the selected surface?")),l.a.createElement(re.a,null,l.a.createElement(R.a,{onClick:function(){e.handleCloseDialog(),e.onImageRemove()},color:"primary"},"Confirm"),l.a.createElement(R.a,{onClick:this.handleCloseDialog,color:"primary",autoFocus:!0},"Cancel"))))}}]),a}(n.Component),Te=Object(x.a)(function(e){return{root:{width:"100%",height:"100%",overflow:"hidden"},subroot:{width:"100%",height:"100%",overflow:"auto",paddingright:"20px"},root2:{width:"100%",backgroundColor:e.palette.background.paper,position:"relative",maxHeight:250}}});function Ue(e){var a=Te(),t=Object(n.useState)(""),i=Object(E.a)(t,2),r=i[0],o=i[1];function s(e,a){return""!==r&&r[e.name][a]}function c(e,a){var t=window.isMobile;switch(a){case"low":return t?e.med-2:e.med-1;case"med":return t?e.med-1:e.med;case"high":return t?e.med:e.med+1;case"ultra":return t?e.med+1:e.med+3;case"min":return-25;case"max":return 25;default:return 0}}return Object(n.useEffect)(function(){var a=document.getElementById("root");a.hasAttribute("model_def_uri"),""===r&&a.hasAttribute("model_def_uri")&&""!==a.getAttribute("model_def_uri")&&e.model_def_uri&&""!==e.model_def_uri&&fetch(e.model_def_uri).then(function(e){return e.json()}).then(function(e){o(e)}).catch(function(e){console.error(e)})},[e.model_def_uri,r]),l.a.createElement("div",{className:a.root},l.a.createElement("div",{className:a.subroot+" hide-scrollbar"},l.a.createElement(he.a,{className:a.root2},l.a.createElement(pe.a,null),e.surfaces.length>0?e.surfaces.map(function(a,t){return l.a.createElement("div",{key:"li-".concat(t,"-").concat(a.name)},l.a.createElement(De,{index:t,item:a.name,isMobile:window.isMobile,title:s(a,"title")?r[a.name].title:a.name,low_res:s(a,"low_div_rate")?r[a.name].low_div_rate:c(a,"low"),med_res:s(a,"med_div_rate")?r[a.name].med_div_rate:c(a,"med"),high_res:s(a,"high_div_rate")?r[a.name].high_div_rate:c(a,"high"),ultra_res:s(a,"ultra_div_rate")?r[a.name].ultra_div_rate:c(a,"ultra"),min_ext:s(a,"min_extrusion_rate")?r[a.name].min_extrusion_rate:c(a,"min"),max_ext:s(a,"max_extrusion_rate")?r[a.name].max_extrusion_rate:c(a,"max"),def_ext:a.extrusion?a.extrusion:null,def_res:a.resolution?a.resolution:null,def_transX:a.transX?a.transX:0,def_transY:a.transY?a.transY:0,def_scaleX:a.scaleX?a.scaleX:100,def_scaleY:a.scaleY?a.scaleY:100,def_rotation:a.rotation?a.rotation:0,def_ref:a.reference?a.reference:"positive",def_state:!a.state||a.state,def_img_url:a.img_url?a.img_url:null,loading:e.loading,warningFunc:e.warningFunc}),l.a.createElement(pe.a,null))}):l.a.createElement("div",null,"No customizable surfaces were found."))))}var Ie={helper:{textAlign:"left",display:"inline-block",whiteSpace:"pre-wrap",width:"100%",maxHeight:"250px",overflowY:"auto",overflowX:"hidden"}},Re=[{title:"What is this app?",text:["This is an application that is capable of personalizing models to your hearts content!","Use the toolbar to the right to change settings and upload images, these will be used to manipulate the model's appearance."]},{title:"How do I change the color of the model?",text:['You can change colors by selecting "Color > [Desired color square]" or "Color > [Input hex value]", in the right toolbar.']}];function Fe(){var e=l.a.useState(!1),a=Object(E.a)(e,2),t=a[0],n=a[1],i=l.a.useState("Title"),r=Object(E.a)(i,2),o=r[0],s=r[1],c=l.a.useState([]),d=Object(E.a)(c,2),u=d[0],h=d[1],m=function(){n(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(ie.a,{open:t,onClose:m,scroll:"paper","aria-labelledby":"scroll-dialog-title"},l.a.createElement(se.a,{id:"scroll-dialog-title"},o),l.a.createElement(oe.a,{dividers:!0},u.map(function(e,a){return l.a.createElement(Ce.a,{key:a},e)})),l.a.createElement(re.a,null,l.a.createElement(R.a,{onClick:m,color:"primary"},"Close"))),l.a.createElement(p.a,{style:Ie.helper},Re.map(function(e,a){return l.a.createElement("p",{key:a},l.a.createElement("button",{type:"button",className:"buttonlink",onClick:(t=e.title,i=e.text,function(){n(!0),s(t),h(i)})},e.title));var t,i})))}var Le={root:{width:"100%",height:"100%",overflow:"hidden"},subroot:{width:"100%",height:"100%",overflowY:"auto",overflowX:"hidden",paddingright:"20px"},heading:{fontSize:15,fontWeight:300},colorpicker:{maxHeight:"80px",overflow:"hidden"},helper:{textAlign:"left",display:"inline-block",whiteSpace:"pre-wrap",width:"100%",maxHeight:"250px",overflowY:"auto",overflowX:"hidden"},uploader:{margin:"auto",height:"100px",border:"3px dotted #a3a199"}},Ae="upload",Pe="premade",Xe="premade_custom",Ye=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this,e))).handleMenuChange=function(e){return function(a,n){t.setState({expandedMenu:!!n&&e}),t.props.openFunction()}},t.handleColorChange=function(e,a){t.state.color!==e.hex&&(t.props.loadingToggle(),t.setState({color:e.hex},function(){window.colorize(e).then(function(e){t.props.loadingToggle()})}))},t.state={model_uri:"",model_def_uri:"",model_type:"",surfaceList:[],color:"#FCB900",wireframeView:!1,textureView:!1,expandedMenu:null,viewDisplay:"color",snackbarOpen:!1,snackbarMsg:"",isUpload:!1,isUploadDialogOpen:!1,uploadedModel:null},t.handleMenuChange=t.handleMenuChange.bind(Object(u.a)(t)),t.handleViewCheck=t.handleViewCheck.bind(Object(u.a)(t)),t.handleUploaderClose=t.handleUploaderClose.bind(Object(u.a)(t)),t.handleUploaderOpen=t.handleUploaderOpen.bind(Object(u.a)(t)),t.handleUploaderSave=t.handleUploaderSave.bind(Object(u.a)(t)),t.handleUploaderError=t.handleUploaderError.bind(Object(u.a)(t)),t.handleSnackbarClose=t.handleSnackbarClose.bind(Object(u.a)(t)),t.emitWarningMessage=t.emitWarningMessage.bind(Object(u.a)(t)),t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.loadingToggle(),this.getConfiguration().then(function(){!e.state.model_uri||""===e.state.model_uri||"null"===e.state.model_uri||e.state.model_type!==Pe&&e.state.model_type!==Xe?e.state.model_type===Ae&&(e.setState({isUpload:!0,isUploadDialogOpen:!0}),e.props.loadingToggle()):window.loadModel(e.state.model_uri,e.state.model_type,e.state.color).then(function(a){e.setState({surfaceList:a},e.props.loadingToggle)})})}},{key:"getConfiguration",value:function(){var e=this;return new Promise(function(a){var t=document.getElementById("root");e.setState({model_uri:t.hasAttribute("model_uri")?t.getAttribute("model_uri"):"",model_def_uri:t.hasAttribute("model_def_uri")?t.getAttribute("model_def_uri"):"",model_type:t.hasAttribute("model_type")?t.getAttribute("model_type"):"upload",color:t.hasAttribute("defaultColor")?t.getAttribute("defaultColor"):"#FCB900"},a)})}},{key:"downloadModel",value:function(){window.downloadOBJ(!0)}},{key:"downloadJSON",value:function(){window.downloadJSON()}},{key:"handleUploaderSave",value:function(e){var a=this;e.length>0&&("obj"===e[0].extension?(this.state.uploadedModel&&URL.revokeObjectURL(this.state.uploadedModel),this.setState({uploadedModel:URL.createObjectURL(e[0]),isUploadDialogOpen:!1},function(){a.props.loadingToggle(),window.loadModel(a.state.uploadedModel,a.state.model_type,a.state.color).then(function(e){a.setState({surfaceList:e},a.props.loadingToggle)})})):"json"===e[0].extension&&(this.state.uploadedModel&&URL.revokeObjectURL(this.state.uploadedModel),this.setState({uploadedModel:URL.createObjectURL(e[0]),isUploadDialogOpen:!1},function(){a.props.loadingToggle(),fetch(a.state.uploadedModel).then(function(e){return e.json()}).then(function(e){window.loadJSON(e).then(function(t){a.setState({surfaceList:t,color:e.color.toString(16)},a.props.loadingToggle)})}).catch(function(e){console.error(e),a.props.loadingToggle()})})))}},{key:"handleUploaderError",value:function(e,a){this.emitWarningMessage(e.message)}},{key:"handleUploaderOpen",value:function(){this.setState({isUploadDialogOpen:!0})}},{key:"handleUploaderClose",value:function(){this.setState({isUploadDialogOpen:!1})}},{key:"handleSnackbarClose",value:function(e,a){"clickaway"!==a&&this.setState({snackbarOpen:!1,snackbarMsg:""})}},{key:"emitWarningMessage",value:function(e){this.setState({snackbarOpen:!0,snackbarMsg:e})}},{key:"handleViewCheck",value:function(e){var a=this,t=e.target.value;this.state.viewDisplay!==t&&(this.props.loadingToggle(),this.setState({viewDisplay:t},function(){window.changeViewMode(t).then(function(e){a.props.loadingToggle()})}))}},{key:"render",value:function(){return l.a.createElement("div",{style:Le.root},l.a.createElement("div",{style:Le.subroot,className:"hide-scrollbar"},l.a.createElement(ie.a,{open:this.state.isUploadDialogOpen,onClose:this.handleUploaderClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(se.a,{id:"form-dialog-title"},"Upload a 3D model"),l.a.createElement(oe.a,null,l.a.createElement(ue.a,{className:"files-dropzone",onChange:this.handleUploaderSave,onError:this.handleUploaderError,accepts:[".obj",".json"],multiple:!1,maxFiles:1,maxFileSize:2e8,minFileSize:0,clickable:!0},l.a.createElement(p.a,{display:"flex",px:3,py:5,alignItems:"center",justifyContent:"center",style:Le.uploader},l.a.createElement(U.a,null,"Drop files here or click to upload.")))),l.a.createElement(re.a,null,l.a.createElement(R.a,{onClick:this.handleUploaderClose,color:"primary"},"Close"))),l.a.createElement(Y.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpen,autoHideDuration:6e3,onClose:this.handleSnackbarClose,ContentProps:{"aria-describedby":"message-id"},message:l.a.createElement("span",{id:"message-id"},this.state.snackbarMsg),action:[l.a.createElement(y.a,{key:"close","aria-label":"close",color:"inherit",onClick:this.handleSnackbarClose},l.a.createElement(le.a,null))]}),this.state.isUpload?l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{expanded:this.props.open&&"upload"===this.state.expandedMenu,onChange:this.handleMenuChange("upload"),TransitionProps:{unmountOnExit:!0}},l.a.createElement(D.a,{expandIcon:this.props.open?l.a.createElement(V.a,null):null,"aria-controls":"panel1a-content",id:"panel1a-header"},this.props.open?l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement(ee.a,null)),l.a.createElement(U.a,null,"Change Model")):l.a.createElement(p.a,{ml:3},l.a.createElement(I.a,null,l.a.createElement(ee.a,null)))),l.a.createElement(T.a,null,l.a.createElement(R.a,{onClick:this.handleUploaderOpen,color:"primary"},"Upload a new model")))):null,l.a.createElement(M.a,{expanded:this.props.open&&"color"===this.state.expandedMenu,onChange:this.handleMenuChange("color"),TransitionProps:{unmountOnExit:!0}},l.a.createElement(D.a,{expandIcon:this.props.open?l.a.createElement(V.a,null):null,"aria-controls":"panel1a-content",id:"panel1a-header"},this.props.open?l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement(J.a,null)),l.a.createElement(U.a,null,"Color")):l.a.createElement(p.a,{ml:3},l.a.createElement(I.a,null,l.a.createElement(J.a,null)))),l.a.createElement(T.a,null,l.a.createElement(p.a,{style:Le.colorpicker},l.a.createElement(ce.TwitterPicker,{width:"100%",color:this.state.color,onChangeComplete:this.handleColorChange})))),l.a.createElement(M.a,{expanded:this.props.open&&"surfaces"===this.state.expandedMenu,onChange:this.handleMenuChange("surfaces")},l.a.createElement(D.a,{expandIcon:this.props.open?l.a.createElement(V.a,null):null,"aria-controls":"panel2a-content",id:"panel2a-header"},this.props.open?l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement($.a,null)),l.a.createElement(U.a,null,"Edit Surfaces")):l.a.createElement(p.a,{ml:3},l.a.createElement(I.a,null,l.a.createElement($.a,null)))),l.a.createElement(T.a,null,l.a.createElement(Ue,{loading:this.props.loadingToggle,model_def_uri:this.state.model_def_uri,surfaces:this.state.surfaceList,warningFunc:this.emitWarningMessage}))),l.a.createElement(M.a,{expanded:this.props.open&&"options"===this.state.expandedMenu,onChange:this.handleMenuChange("options"),TransitionProps:{unmountOnExit:!0}},l.a.createElement(D.a,{expandIcon:this.props.open?l.a.createElement(V.a,null):null,"aria-controls":"panel2a-content",id:"panel2a-header"},this.props.open?l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement(G.a,null)),l.a.createElement(U.a,null,"Settings")):l.a.createElement(p.a,{ml:3},l.a.createElement(I.a,null,l.a.createElement(G.a,null)))),l.a.createElement(T.a,null,l.a.createElement(P.a,{component:"fieldset"},l.a.createElement(X.a,{component:"legend"},l.a.createElement(I.a,null,l.a.createElement(Q.a,null)),l.a.createElement(U.a,null,"Viewer Display")),l.a.createElement(L.a,{"aria-label":"display",name:"display1",value:this.state.viewDisplay,onChange:this.handleViewCheck},l.a.createElement(A.a,{value:"color",control:l.a.createElement(F.a,null),label:"Color/Material"}),l.a.createElement(A.a,{value:"texture",control:l.a.createElement(F.a,null),label:"Texture Mapping"}),l.a.createElement(A.a,{value:"wireframe",control:l.a.createElement(F.a,null),label:"Wireframe View"}))))),l.a.createElement(M.a,{expanded:this.props.open&&"help"===this.state.expandedMenu,onChange:this.handleMenuChange("help"),TransitionProps:{unmountOnExit:!0}},l.a.createElement(D.a,{expandIcon:this.props.open?l.a.createElement(V.a,null):null,"aria-controls":"panel2a-content",id:"panel2a-header"},this.props.open?l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement(z.a,null)),l.a.createElement(U.a,null,"Help")):l.a.createElement(p.a,{ml:3},l.a.createElement(I.a,null,l.a.createElement(z.a,null)))),l.a.createElement(T.a,null,l.a.createElement(Fe,null))),l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{expanded:this.props.open&&"download"===this.state.expandedMenu,onChange:this.handleMenuChange("download"),TransitionProps:{unmountOnExit:!0}},l.a.createElement(D.a,{expandIcon:this.props.open?l.a.createElement(V.a,null):null,"aria-controls":"panel1a-content",id:"panel1a-header"},this.props.open?l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,l.a.createElement(te.a,null)),l.a.createElement(U.a,null,"Download Model")):l.a.createElement(p.a,{ml:3},l.a.createElement(I.a,null,l.a.createElement(te.a,null)))),l.a.createElement(T.a,null,l.a.createElement(R.a,{onClick:this.downloadModel,color:"primary"},"Download OBJ"),l.a.createElement(R.a,{onClick:this.downloadJSON,color:"primary"},"Download JSON"))))))}}]),a}(n.Component),Ne=Object(x.a)(function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:350,width:"calc(100% - ".concat(350,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:350,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:350,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(w.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 10px"},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}});function ze(e){var a,t,n=Object(_.a)(),i=Ne(n),r=l.a.useState(!1),o=Object(E.a)(r,2),s=o[0],c=o[1];function d(){c(!0)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{variant:"permanent",className:Object(v.a)(i.drawer,(a={},Object(w.a)(a,i.drawerOpen,s),Object(w.a)(a,i.drawerClose,!s),a)),classes:{paper:Object(v.a)((t={},Object(w.a)(t,i.drawerOpen,s),Object(w.a)(t,i.drawerClose,!s),t))},swipeAreaWidth:40,onClose:function(){c(!1)},onOpen:d,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},open:s,anchor:"right"},l.a.createElement("div",{className:i.toolbar},l.a.createElement(y.a,{onClick:function(){c(!s)}},s?l.a.createElement(j.a,null):l.a.createElement(k.a,null))),l.a.createElement(Ye,{open:s,openFunction:d,loadingToggle:e.loadingFunction})))}var Be=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this,e))).state={loading:!1},t.toggleLoading=t.toggleLoading.bind(Object(u.a)(t)),t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"toggleLoading",value:function(){var e=this.state.loading;this.setState({loading:!e})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",{style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"}},l.a.createElement(p.a,{display:"flex",height:"100%",width:"100%"},l.a.createElement(p.a,{id:"viewer-container",height:"100%"},l.a.createElement(f,{loading:this.state.loading})),l.a.createElement(p.a,{height:"100%",width:"60px",id:"drawer-container",position:"relative"},l.a.createElement(ze,{loadingFunction:this.toggleLoading}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[188,1,2]]]);
//# sourceMappingURL=main.3581fde0.chunk.js.map