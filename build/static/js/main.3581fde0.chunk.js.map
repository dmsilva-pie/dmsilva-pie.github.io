{"version":3,"sources":["components/Viewer3D.js","components/SurfaceListItem.js","components/SurfaceList.js","components/HelpMenu.js","components/OptionMenu.js","components/ToolbarMenu.js","components/App.js","serviceWorker.js","index.js"],"names":["Viewer3D","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","loading","window","createScene","react_default","a","createElement","id","Fade","in","style","transitionDelay","unmountOnExit","CircularProgress","disableShrink","size","Component","SurfaceListItem","handleTexturePositionChange","attr","e","newValue","updatingSlider","setState","defineProperty","changeReferencePosition","index","transX","transY","scaleX","scaleY","rotation","scale","DEFAULT_RES","isMobile","low_res","med_res","DEFAULT_SCALE","max_ext","Math","max","min_ext","anchorEl_tex","undefined","anchorEl_obj","dialogOpen","img_url","def_img_url","placeholderImage","img_file","enabled","def_res","usable","def_state","def_ext","resolution","reference","def_ref","def_transX","def_transY","def_scaleX","def_scaleY","def_rotation","handleOpenMenu","bind","assertThisInitialized","handleOpenTexMenu","handleCloseMenu","handleOpenDialog","handleCloseDialog","handleCheck","onImageAdd","onImageAddError","onImageRemove","handleScaleChange","throttle","handleScaleSliderChange","handleResSliderChange","handleRefTypeChange","handleTexturePositionReset","event","currentTarget","_this2","target","checked","changeReferenceState","file","_this3","length","preview","url","refs","files","addReference","then","result","error","warningFunc","message","_this4","removeReference","_this5","applyReference","_this6","updateSurface","_this7","changeReferenceType","_this8","_this9","Fragment","ListItem","key","concat","item","Box","width","height","display","dist_default","className","ref","onChange","onError","accepts","multiple","maxFiles","maxFileSize","minFileSize","clickable","alignSelf","ButtonBase","focusRipple","backgroundImage","backgroundSize","Tooltip","title","enterDelay","AddCircle_default","color","opacity","flexDirection","flexGrow","pl","alignItems","Typography","Divider","IconButton","aria-label","onClick","Delete_default","disabled","aria-controls","aria-haspopup","OpenWith_default","Menu_Menu","anchorEl","keepMounted","open","Boolean","onClose","px","py","Slider","value","aria-labelledby","valueLabelDisplay","step","marks","min","PI","Button","variant","ExpandMore_default","ToggleButtonGroup","exclusive","ToggleButton","defaultValue","high_res","ultra_res","Checkbox","Dialog","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","useStyles","makeStyles","theme","root","overflow","subroot","paddingright","root2","backgroundColor","palette","background","paper","position","maxHeight","SurfaceList","classes","_useState","useState","_useState2","slicedToArray","properties","setProperties","hasProperty","surface","property","name","defaultProperty","med","useEffect","container","document","getElementById","hasAttribute","getAttribute","model_def_uri","fetch","response","json","data","catch","console","List","surfaces","map","SurfaceListItem_SurfaceListItem","low_div_rate","med_div_rate","high_div_rate","ultra_div_rate","min_extrusion_rate","max_extrusion_rate","extrusion","styles","helper","textAlign","whiteSpace","overflowY","overflowX","helpSectionArray","text","HelpMenu","_React$useState","React","_React$useState2","setOpen","_React$useState3","_React$useState4","setTitle","_React$useState5","_React$useState6","setText","handleClose","scroll","dividers","paragraph","help","type","heading","fontSize","fontWeight","colorpicker","uploader","margin","border","MODELTYPES","OptionMenu","handleMenuChange","panel","isExpanded","expandedMenu","openFunction","handleColorChange","hex","loadingToggle","colorize","model_uri","model_type","surfaceList","wireframeView","textureView","viewDisplay","snackbarOpen","snackbarMsg","isUpload","isUploadDialogOpen","uploadedModel","handleViewCheck","handleUploaderClose","handleUploaderOpen","handleUploaderSave","handleUploaderError","handleSnackbarClose","emitWarningMessage","getConfiguration","loadModel","Promise","resolve","downloadOBJ","downloadJSON","extension","URL","revokeObjectURL","createObjectURL","loadJSON","toString","reason","mode","changeViewMode","justifyContent","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","action","Close_default","ExpansionPanel","expanded","TransitionProps","ExpansionPanelSummary","expandIcon","ListItemIcon","Publish_default","ml","ExpansionPanelDetails","ColorLens_default","lib","onChangeComplete","Build_default","Settings_default","FormControl","component","FormLabel","RemoveRedEye_default","RadioGroup","FormControlLabel","control","Radio","label","Help_default","CloudDownload_default","downloadModel","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","hide","flexShrink","drawerOpen","drawerClose","spacing","breakpoints","up","toolbar","objectSpread","padding","mixins","content","MiniDrawer","_clsx","_clsx2","useTheme","handleDrawerOpen","SwipeableDrawer","clsx","swipeAreaWidth","onOpen","PaperProps","BackdropProps","ModalProps","anchor","ChevronRight_default","Menu_default","OptionMenu_OptionMenu","loadingFunction","App","toggleLoading","isLoading","Viewer3D_Viewer3D","location","hostname","match","ReactDOM","render","App_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3581fde0.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n//import '../css/App.css';\r\n\r\n//import Paper from '@material-ui/core/Paper';\r\n//import Grid from '@material-ui/core/Grid';\r\n\r\n//import 3DViewer from './3DViewer';\r\n//import OptionMenu from './OptionMenu';\r\n\r\nimport Fade from '@material-ui/core/Fade';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nexport default class Viewer3D extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tloading: false\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.createScene();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"viewer\">\r\n\t\t\t\t<div id=\"loadingScreen\">\r\n\t\t\t\t\t<Fade\r\n\t\t\t\t\t\tin={this.props.loading}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttransitionDelay: this.state.loading ? '800ms' : '0ms',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tunmountOnExit\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CircularProgress disableShrink size={100} />\r\n\t\t\t\t\t</Fade>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Files from 'react-files';\r\nimport { throttle } from 'lodash';\r\n\r\nimport ListItem from '@material-ui/core/ListItem';\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Checkbox from '@material-ui/core/CheckBox';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup'\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport MoveIcon from '@material-ui/icons/OpenWith';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\n\r\nexport default class SurfaceListItem extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t//Initial default values\r\n\t\tthis.DEFAULT_RES = this.props.isMobile ? this.props.low_res : this.props.med_res;\r\n\t\tthis.DEFAULT_SCALE = this.props.max_ext * 0.2 !== 0 ? \r\n\t\t\t\t\t\t\t\tMath.max(this.props.min_ext * 0.2, this.props.max_ext * 0.2) : this.props.min_ext * 0.2;\r\n\r\n\t\tthis.state = {\r\n\t\t\tanchorEl_tex: undefined,\r\n\t\t\tanchorEl_obj: undefined,\r\n\t\t\tdialogOpen: false,\r\n\t\t\tloading: false,\r\n\t\t\timg_url: this.props.def_img_url ? this.props.def_img_url : window.placeholderImage(this.props.index),\r\n\t\t\timg_file: null,\r\n\t\t\tenabled: this.props.def_res ? true : false,\r\n\t\t\tusable: this.props.def_state ? this.props.def_state : true,\r\n\t\t\tscale: this.props.def_ext ? this.props.def_ext : this.DEFAULT_SCALE,\r\n\t\t\tresolution: this.props.def_res? this.props.def_res : this.DEFAULT_RES,\r\n\t\t\treference: this.props.def_ref ? this.props.def_ref : \"positive\",\r\n\t\t\ttransX: this.props.def_transX,\r\n\t\t\ttransY: this.props.def_transY,\r\n\t\t\tscaleX: this.props.def_scaleX,\r\n\t\t\tscaleY: this.props.def_scaleY,\r\n\t\t\trotation: this.props.def_rotation\r\n\t\t};\r\n\t\tthis.updatingSlider = false;\r\n\r\n\t\tthis.handleOpenMenu = this.handleOpenMenu.bind(this);\r\n\t\tthis.handleOpenTexMenu = this.handleOpenTexMenu.bind(this);\r\n\t\tthis.handleCloseMenu = this.handleCloseMenu.bind(this);\r\n\t\tthis.handleOpenDialog = this.handleOpenDialog.bind(this);\r\n\t\tthis.handleCloseDialog = this.handleCloseDialog.bind(this);\r\n\t\tthis.handleCheck = this.handleCheck.bind(this);\r\n\t\tthis.onImageAdd = this.onImageAdd.bind(this);\r\n\t\tthis.onImageAddError = this.onImageAddError.bind(this);\r\n\t\tthis.onImageRemove = this.onImageRemove.bind(this);\r\n\t\tthis.handleScaleChange =  throttle(this.handleScaleSliderChange.bind(this), 100);\r\n\t\tthis.handleResSliderChange = this.handleResSliderChange.bind(this);\r\n\t\tthis.handleRefTypeChange = this.handleRefTypeChange.bind(this);\r\n\t\tthis.handleTexturePositionChange = this.handleTexturePositionChange.bind(this);\r\n\t\tthis.handleTexturePositionReset = this.handleTexturePositionReset.bind(this);\r\n\t}\r\n\r\n\thandleOpenMenu(event) {\r\n\t\tthis.setState({ anchorEl_obj: event.currentTarget });\r\n\t}\r\n\r\n\thandleOpenTexMenu(event) {\r\n\t\tthis.setState({ anchorEl_tex: event.currentTarget });\r\n\t}\r\n\r\n\thandleCloseMenu() {\r\n\t\tthis.setState({ anchorEl_tex: null, anchorEl_obj: null });\r\n\t}\r\n\r\n\thandleOpenDialog() {\r\n\t\tthis.setState({ dialogOpen: true });\r\n\t}\r\n\r\n\thandleCloseDialog() {\r\n\t\tthis.setState({ dialogOpen: false });\r\n\t}\r\n\r\n\thandleCheck(event) {\r\n\t\tif(this.state.usable !== event.target.checked){\r\n\t\t\tvar checked = this.state.usable;\r\n\t\t\tthis.setState({ usable: !checked }, () => {\r\n\t\t\t\twindow.changeReferenceState(this.props.index, this.state.usable, this.state.scale);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tonImageAdd(file) {\r\n\t\tif (file.length > 0) {\r\n\t\t\tthis.setState({ img_url: file[0].preview.url, img_file: file[0], enabled: true }, () => {\r\n\r\n\t\t\t\tthis.refs.files.setState({ files: [] });\r\n\t\t\t\tthis.props.loading();\r\n\t\t\t\twindow.addReference(this.props.index, this.state.img_url, this.state.resolution, this.state.scale).then(result => {\r\n\t\t\t\t\tthis.props.loading();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonImageAddError(error) {\r\n\t\tthis.props.warningFunc(error.message);\r\n\t}\r\n\r\n\tonImageRemove() {\r\n\t\tthis.setState({\r\n\t\t\timg_url: window.placeholderImage(this.props.index), img_file: null, enabled: false, usable: false,\r\n\t\t\tscale: this.DEFAULT_SCALE, resolution: this.DEFAULT_RES\r\n\t\t}, () => {\r\n\t\t\tthis.refs.files.setState({ files: [] });\r\n\t\t\tthis.props.loading();\r\n\t\t\twindow.removeReference(this.props.index).then(result => {\r\n\t\t\t\tthis.props.loading();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\thandleScaleSliderChange(event, newValue) {\r\n\t\tif(!this.updatingSlider && this.state.scale !== newValue){\r\n\t\t\tthis.setState({ scale: newValue }, () => {\r\n\t\t\t\twindow.applyReference(this.props.index, this.state.scale);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleResSliderChange(event, newValue) {\r\n\t\tthis.setState({ resolution: newValue }, () => {\r\n\t\t\tthis.props.loading();\r\n\t\t\twindow.updateSurface(this.props.index, this.state.resolution, this.state.scale).then(result => {\r\n\t\t\t\tthis.props.loading();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\thandleRefTypeChange(event, newValue){\r\n\t\tif(this.state.reference !== newValue){\r\n\t\t\tthis.setState({ reference: newValue }, () => {\r\n\t\t\t\twindow.changeReferenceType(this.props.index, this.state.reference, this.state.scale);\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleTexturePositionChange = attr => (e, newValue) => {\r\n\t\tif(!this.updatingSlider && this.state[attr] !== newValue){\r\n\t\t\tthis.setState({ [attr]: newValue}, () => {\r\n\t\t\t\twindow.changeReferencePosition(this.props.index, this.state.transX, this.state.transY, this.state.scaleX, this.state.scaleY, this.state.rotation, this.state.scale);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\thandleTexturePositionReset(event){\r\n\t\tthis.updatingSlider = true;\r\n\t\tthis.setState({ transX: 0, transY: 0, scaleX: 100, scaleY: 100, rotation: 0}, () => {\r\n\t\t\twindow.changeReferencePosition(this.props.index, this.state.transX, this.state.transY, this.state.scaleX, this.state.scaleY, this.state.rotation, this.state.scale);\r\n\t\t});\r\n\t\tthis.updatingSlider = false\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<ListItem key={`item-${this.props.item}`}>\r\n\r\n\t\t\t\t\t<Box width=\"100%\" height={80} display=\"flex\">\r\n\r\n\t\t\t\t\t\t<Files\r\n\t\t\t\t\t\t\tclassName='files-dropzone'\r\n\t\t\t\t\t\t\tref='files'\r\n\t\t\t\t\t\t\tonChange={this.onImageAdd}\r\n\t\t\t\t\t\t\tonError={this.onImageAddError}\r\n\t\t\t\t\t\t\taccepts={['image/*']}\r\n\t\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\t\tmaxFiles={1}\r\n\t\t\t\t\t\t\tmaxFileSize={10000000}\r\n\t\t\t\t\t\t\tminFileSize={0}\r\n\t\t\t\t\t\t\tclickable\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box width={80} height={80} alignSelf=\"flex-start\">\r\n\r\n\t\t\t\t\t\t\t\t<ButtonBase\r\n\t\t\t\t\t\t\t\t\tfocusRipple\r\n\t\t\t\t\t\t\t\t\tkey={this.props.item + 1}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t\t\t\theight: \"100%\",\r\n\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${this.state.img_url})`,\r\n\t\t\t\t\t\t\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span className=\"showonfocus\">\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={this.state.enabled ? \"Change Image\" : \"Add Image\"} enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t\t<AddCircleIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity: 0.6,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: \"50%\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: \"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</ButtonBase>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Files>\r\n\r\n\r\n\t\t\t\t\t\t<Box height={80} flexDirection='column' flexGrow={1} alignSelf=\"center\">\r\n\r\n\t\t\t\t\t\t\t<Box height={40} pl={3} display=\"flex\" flexGrow={1} alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{this.props.title}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t\t<Divider />\r\n\r\n\t\t\t\t\t\t\t<Box height={40} pl={1} display=\"flex\" flexGrow={1} alignItems=\"center\">\r\n\r\n\t\t\t\t\t\t\t\t{/*CLEAR*/}\r\n\t\t\t\t\t\t\t\t{this.state.enabled ?\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Clear\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"delete\" onClick={this.handleOpenDialog}><DeleteIcon /></IconButton>\r\n\t\t\t\t\t\t\t\t\t</Tooltip> :\r\n\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-label=\"delete\" onClick={this.handleOpenDialog}><DeleteIcon /></IconButton>\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t{/*MOVE MENU*/}\r\n\t\t\t\t\t\t\t\t{this.state.enabled ?\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Move/Rotate\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-controls={\"texture-menu\" + this.props.item} aria-haspopup=\"true\" onClick={this.handleOpenTexMenu}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MoveIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton >\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\t\t\tid={\"texture-menu\" + this.props.item}\r\n\t\t\t\t\t\t\t\t\t\t\tanchorEl={this.state.anchorEl_tex}\r\n\t\t\t\t\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\t\t\t\t\topen={Boolean(this.state.anchorEl_tex)}\r\n\t\t\t\t\t\t\t\t\t\t\tonClose={this.handleCloseMenu}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box px={2} py={1} display=\"flex\" flexDirection='column' flexGrow={1} alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Translate X</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTexturePositionChange(\"transX\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.transX}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={-100}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Translate Y</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTexturePositionChange(\"transY\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.transY}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={-100}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Scale X</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTexturePositionChange(\"scaleX\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.scaleX}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={50}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={200}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Scale Y</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTexturePositionChange(\"scaleY\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.scaleY}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={50}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={200}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Rotate</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTexturePositionChange(\"rotation\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.rotation}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={Math.PI/32}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={2*Math.PI}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={this.handleTexturePositionReset}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t\t\t  \t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-controls={\"texture-menu\" + this.props.item} aria-haspopup=\"true\" onClick={this.handleOpenTexMenu}>\r\n\t\t\t\t\t\t\t\t\t\t<MoveIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton >\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t{/*VOLUME MENU*/}\r\n\t\t\t\t\t\t\t\t{this.state.enabled ?\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Volume\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-controls={\"sculpting-menu\" + this.props.item} aria-haspopup=\"true\" onClick={this.handleOpenMenu}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ExpandMoreIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton >\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\t\t\tid={\"sculpting-menu\" + this.props.item}\r\n\t\t\t\t\t\t\t\t\t\t\tanchorEl={this.state.anchorEl_obj}\r\n\t\t\t\t\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\t\t\t\t\topen={Boolean(this.state.anchorEl_obj)}\r\n\t\t\t\t\t\t\t\t\t\t\tonClose={this.handleCloseMenu}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box px={2} py={1} display=\"flex\" flexDirection='column' flexGrow={1} alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Image Reference</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButtonGroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.reference}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\texclusive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleRefTypeChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"reference\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value=\"positive\" aria-label=\"positive\" disabled={this.state.reference === \"positive\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPositive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value=\"negative\" aria-label=\"negative\" disabled={this.state.reference === \"negative\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNegative\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButtonGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Extrude Scale</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleScaleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state.scale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={this.props.min_ext}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={this.props.max_ext}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Resolution</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButtonGroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.resolution}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\texclusive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleResSliderChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"resolution\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value={this.props.low_res} aria-label=\"low\" disabled={this.state.resolution === this.props.low_res}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlow\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value={this.props.med_res} aria-label=\"mid\" disabled={this.state.resolution === this.props.med_res}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value={this.props.high_res} aria-label=\"high\" disabled={this.state.resolution === this.props.high_res}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thigh\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value={this.props.ultra_res} aria-label=\"ultra\" disabled={this.state.resolution === this.props.ultra_res}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tultra\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButtonGroup>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-controls={\"sculpting-menu\" + this.props.item} aria-haspopup=\"true\" onClick={this.handleOpenMenu}>\r\n\t\t\t\t\t\t\t\t\t\t<ExpandMoreIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton >\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t{/*Enable/Disable Checkmark*/}\r\n\t\t\t\t\t\t<Box width={40} height={80} display=\"flex\" alignItems=\"center\" alignSelf=\"flex-end\">\r\n\t\t\t\t\t\t\t{this.state.enabled ?\r\n\t\t\t\t\t\t\t\tthis.state.usable ?\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Disable\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox disabled={!this.state.enabled} checked={this.state.usable} onChange={this.handleCheck} />\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Enable\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox disabled={!this.state.enabled} checked={this.state.usable} onChange={this.handleCheck} />\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.enabled}\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.usable}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleCheck}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.state.dialogOpen}\r\n\t\t\t\t\tonClose={this.handleCloseDialog}\r\n\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\r\n\t\t\t\t\taria-describedby=\"alert-dialog-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{\"Clear surface?\"}</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t\tDo you wish to clear the data on the selected surface?\r\n\t\t\t  \t\t\t</DialogContentText>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={() => { this.handleCloseDialog(); this.onImageRemove(); }} color=\"primary\">\r\n\t\t\t\t\t\t\tConfirm\r\n\t\t\t  \t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={this.handleCloseDialog} color=\"primary\" autoFocus>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t  \t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport SurfaceListItem from './SurfaceListItem';\r\n\r\n//import useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\toverflow: 'hidden'\r\n\t},\r\n\tsubroot: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\toverflow: 'auto',\r\n\t\tpaddingright: '20px'\r\n\t},\r\n\troot2: {\r\n\t\twidth: '100%',\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tposition: 'relative',\r\n\t\tmaxHeight: 250,\r\n\t},\r\n}));\r\n\r\nexport default function SurfaceList(props) {\r\n\tconst classes = useStyles();\r\n\t//const matches = useMediaQuery('(min-width:600px)');\r\n\r\n\t//const DEFAULT_PROP = matches ? [0,0,0,0,-50,50] : [0,0,0,0,-50,50];\r\n\r\n\tconst [properties, setProperties] = useState(\"\");\r\n\r\n\tfunction hasProperty(surface, property) {\r\n\t\treturn properties !== \"\" && properties[surface.name][property];\r\n\t};\r\n\r\n\t/* Acquire surface properties JSON */\r\n\tuseEffect(() => {\r\n\t\tvar container = document.getElementById(\"root\");\r\n\t\tcontainer.hasAttribute('model_def_uri');\r\n\t\tif(properties === \"\" && container.hasAttribute('model_def_uri') && container.getAttribute('model_def_uri') !== \"\" \r\n\t\t\t\t&& props.model_def_uri && props.model_def_uri !== \"\"){\r\n\t\t\tfetch(props.model_def_uri)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tsetProperties(data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t}\r\n\t}, [props.model_def_uri, properties]);\r\n\r\n\r\n\tfunction defaultProperty(surface, property){\r\n\t\tvar isMobile = window.isMobile;\r\n\r\n\t\tswitch(property){\r\n\t\t\tcase \"low\":\r\n\t\t\t\treturn isMobile ? surface.med - 2 : surface.med - 1;\r\n\t\t\tcase \"med\":\r\n\t\t\t\treturn isMobile ? surface.med - 1 : surface.med;\r\n\t\t\tcase \"high\":\r\n\t\t\t\treturn isMobile ? surface.med : surface.med + 1;\r\n\t\t\tcase \"ultra\":\r\n\t\t\t\treturn isMobile ? surface.med + 1 : surface.med + 3;\r\n\t\t\tcase \"min\":\r\n\t\t\t\treturn -25;\r\n\t\t\tcase \"max\":\r\n\t\t\t\treturn 25;\r\n\t\t\tdefault:\r\n\t\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div className={classes.subroot+' hide-scrollbar'}>\r\n\t\t\t\t<List className={classes.root2}>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t{props.surfaces.length > 0 ?\r\n\t\t\t\t\t\tprops.surfaces.map((surface, index) => (\r\n\t\t\t\t\t\t\t<div key={`li-${index}-${surface.name}`}>\r\n\t\t\t\t\t\t\t\t<SurfaceListItem\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\titem={surface.name}\r\n\t\t\t\t\t\t\t\t\tisMobile={window.isMobile}\r\n\t\t\t\t\t\t\t\t\ttitle={hasProperty(surface, \"title\") ? properties[surface.name].title : surface.name}\r\n\t\t\t\t\t\t\t\t\tlow_res={hasProperty(surface, \"low_div_rate\") ? properties[surface.name].low_div_rate : defaultProperty(surface, \"low\")}\r\n\t\t\t\t\t\t\t\t\tmed_res={hasProperty(surface, \"med_div_rate\") ? properties[surface.name].med_div_rate : defaultProperty(surface, \"med\")}\r\n\t\t\t\t\t\t\t\t\thigh_res={hasProperty(surface, \"high_div_rate\") ? properties[surface.name].high_div_rate : defaultProperty(surface, \"high\")}\r\n\t\t\t\t\t\t\t\t\tultra_res={hasProperty(surface, \"ultra_div_rate\") ? properties[surface.name].ultra_div_rate : defaultProperty(surface, \"ultra\")}\r\n\t\t\t\t\t\t\t\t\tmin_ext={hasProperty(surface, \"min_extrusion_rate\") ? properties[surface.name].min_extrusion_rate : defaultProperty(surface, \"min\")}\r\n\t\t\t\t\t\t\t\t\tmax_ext={hasProperty(surface, \"max_extrusion_rate\") ? properties[surface.name].max_extrusion_rate : defaultProperty(surface, \"max\")}\r\n\t\t\t\t\t\t\t\t\tdef_ext={surface.extrusion ? surface.extrusion : null}\r\n\t\t\t\t\t\t\t\t\tdef_res={surface.resolution ? surface.resolution : null}\r\n\t\t\t\t\t\t\t\t\tdef_transX={surface.transX ? surface.transX : 0}\r\n\t\t\t\t\t\t\t\t\tdef_transY={surface.transY ? surface.transY : 0}\r\n\t\t\t\t\t\t\t\t\tdef_scaleX={surface.scaleX ? surface.scaleX : 100}\r\n\t\t\t\t\t\t\t\t\tdef_scaleY={surface.scaleY ? surface.scaleY : 100}\r\n\t\t\t\t\t\t\t\t\tdef_rotation={surface.rotation ? surface.rotation : 0}\r\n\t\t\t\t\t\t\t\t\tdef_ref={surface.reference ? surface.reference : \"positive\"}\r\n\t\t\t\t\t\t\t\t\tdef_state={surface.state ? surface.state : true}\r\n\t\t\t\t\t\t\t\t\tdef_img_url={surface.img_url ? surface.img_url : null}\r\n\t\t\t\t\t\t\t\t\tloading={props.loading}\r\n\t\t\t\t\t\t\t\t\twarningFunc={props.warningFunc}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)) :\r\n\t\t\t\t\t\t<div>No customizable surfaces were found.</div>}\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst styles = {\r\n\thelper: {\r\n\t\ttextAlign: \"left\",\r\n\t\tdisplay: \"inline-block\",\r\n\t\twhiteSpace: \"pre-wrap\",\r\n\t\twidth: \"100%\",\r\n\t\tmaxHeight: \"250px\",\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: \"hidden\"\r\n\t}\r\n};\r\n\r\nconst helpSectionArray = [\r\n{\r\n    title: \"What is this app?\",\r\n    text: [\r\n        \"This is an application that is capable of personalizing models to your hearts content!\",\r\n        \"Use the toolbar to the right to change settings and upload images, these will be used to manipulate the model's appearance.\"\r\n    ]\r\n},\r\n{\r\n    title: \"How do I change the color of the model?\",\r\n    text: [\r\n        'You can change colors by selecting \"Color > [Desired color square]\" or \"Color > [Input hex value]\", in the right toolbar.'\r\n\r\n    ]\r\n}\r\n];\r\n\r\nexport default function HelpMenu() {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [title, setTitle] = React.useState(\"Title\");\r\n    const [text, setText] = React.useState([]);\r\n\r\n    const handleClickOpen = (title, text)  => () => {\r\n        setOpen(true);\r\n        setTitle(title);\r\n        setText(text);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                scroll=\"paper\"\r\n                aria-labelledby=\"scroll-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"scroll-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent dividers={true}>\r\n                        {text.map((paragraph, index) => (\r\n                            <DialogContentText key={index}>\r\n                                {paragraph}\r\n                            </DialogContentText>\r\n                        ))}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Box style={styles.helper}>\r\n                {helpSectionArray.map((help, index) => (\r\n                    <p key={index}><button type=\"button\" className=\"buttonlink\" onClick={handleClickOpen(help.title, help.text)}>{help.title}</button></p>\r\n                ))}\r\n            </Box>\r\n        </>\r\n    );\r\n}","import React, { Component } from 'react';\r\n//import { debounce } from \"lodash\";\r\n\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport HelpIcon from '@material-ui/icons/Help';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ColorLensIcon from '@material-ui/icons/ColorLens';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport ViewIcon from '@material-ui/icons/RemoveRedEye';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport { TwitterPicker } from 'react-color';\r\nimport Files from 'react-files';\r\n\r\nimport SurfaceList from './SurfaceList';\r\nimport HelpMenu from './HelpMenu';\r\n\r\nconst styles = {\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\toverflow: 'hidden',\r\n\t},\r\n\tsubroot: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tpaddingright: '20px',\r\n\t},\r\n\theading: {\r\n\t\tfontSize: 15,\r\n\t\tfontWeight: 300,\r\n\t},\r\n\tcolorpicker: {\r\n\t\tmaxHeight: \"80px\",\r\n\t\toverflow: 'hidden'\r\n\t},\r\n\thelper: {\r\n\t\ttextAlign: \"left\",\r\n\t\tdisplay: \"inline-block\",\r\n\t\twhiteSpace: \"pre-wrap\",\r\n\t\twidth: \"100%\",\r\n\t\tmaxHeight: \"250px\",\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: \"hidden\"\r\n\t},\r\n\tuploader: {\r\n\t\tmargin: \"auto\",\r\n\t\theight: \"100px\",\r\n\t\tborder: \"3px dotted #a3a199\"\r\n\t}\r\n};\r\n\r\nconst MODELTYPES = {\r\n\tUPLOAD: \"upload\",\r\n\tPREMADE: \"premade\",\r\n\tPREMADE_CUSTOM: \"premade_custom\"\r\n};\r\n\r\nexport default class OptionMenu extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tmodel_uri: \"\",\r\n\t\t\tmodel_def_uri: \"\",\r\n\t\t\tmodel_type: \"\",\r\n\t\t\tsurfaceList: [],\r\n\t\t\tcolor: '#FCB900',\r\n\t\t\twireframeView: false,\r\n\t\t\ttextureView: false,\r\n\t\t\texpandedMenu: null,\r\n\t\t\tviewDisplay: \"color\",\r\n\t\t\tsnackbarOpen: false,\r\n\t\t\tsnackbarMsg: \"\",\r\n\t\t\tisUpload: false,\r\n\t\t\tisUploadDialogOpen: false,\r\n\t\t\tuploadedModel: null\r\n\t\t};\r\n\r\n\t\tthis.handleMenuChange = this.handleMenuChange.bind(this);\r\n\t\tthis.handleViewCheck = this.handleViewCheck.bind(this);\r\n\t\tthis.handleUploaderClose = this.handleUploaderClose.bind(this);\r\n\t\tthis.handleUploaderOpen = this.handleUploaderOpen.bind(this);\r\n\t\tthis.handleUploaderSave = this.handleUploaderSave.bind(this);\r\n\t\tthis.handleUploaderError = this.handleUploaderError.bind(this);\r\n\t\tthis.handleSnackbarClose = this.handleSnackbarClose.bind(this);\r\n\t\tthis.emitWarningMessage = this.emitWarningMessage.bind(this);\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.loadingToggle();\r\n\t\tthis.getConfiguration().then(() => {\r\n\r\n\t\t\tif (this.state.model_uri && this.state.model_uri !== \"\" && this.state.model_uri !== \"null\" && (this.state.model_type === MODELTYPES.PREMADE || this.state.model_type === MODELTYPES.PREMADE_CUSTOM)) {\r\n\t\t\t\twindow.loadModel(this.state.model_uri, this.state.model_type, this.state.color)\r\n\t\t\t\t\t.then(surfaces => {\r\n\t\t\t\t\t\tthis.setState({ surfaceList: surfaces }, this.props.loadingToggle);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if (this.state.model_type === MODELTYPES.UPLOAD) {\r\n\t\t\t\tthis.setState({ isUpload: true, isUploadDialogOpen: true });\r\n\t\t\t\t//call dialog open\r\n\t\t\t\tthis.props.loadingToggle();\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\t/* Acquire configurations from root element */\r\n\tgetConfiguration() {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tvar container = document.getElementById(\"root\");\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tmodel_uri: container.hasAttribute('model_uri') ? container.getAttribute('model_uri') : \"\",\r\n\t\t\t\tmodel_def_uri: container.hasAttribute('model_def_uri') ? container.getAttribute('model_def_uri') : \"\",\r\n\t\t\t\tmodel_type: container.hasAttribute('model_type') ? container.getAttribute('model_type') : \"upload\",\r\n\t\t\t\tcolor: container.hasAttribute('defaultColor') ? container.getAttribute('defaultColor') : \"#FCB900\"\r\n\t\t\t}, resolve);\r\n\t\t});\r\n\t}\r\n\r\n\tdownloadModel() {\r\n\t\twindow.downloadOBJ(true);\r\n\t}\r\n\r\n\tdownloadJSON() {\r\n\t\twindow.downloadJSON();\r\n\t}\r\n\r\n\thandleUploaderSave(files) {\r\n\t\tif (files.length > 0) {\r\n\t\t\tif (files[0].extension === \"obj\") {\r\n\t\t\t\tif (this.state.uploadedModel) URL.revokeObjectURL(this.state.uploadedModel);\r\n\r\n\t\t\t\tthis.setState({ uploadedModel: URL.createObjectURL(files[0]), isUploadDialogOpen: false }, () => {\r\n\t\t\t\t\tthis.props.loadingToggle();\r\n\t\t\t\t\twindow.loadModel(this.state.uploadedModel, this.state.model_type, this.state.color)\r\n\t\t\t\t\t\t.then(surfaces => {\r\n\t\t\t\t\t\t\tthis.setState({ surfaceList: surfaces }, this.props.loadingToggle);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if (files[0].extension === \"json\") {\r\n\t\t\t\tif (this.state.uploadedModel) URL.revokeObjectURL(this.state.uploadedModel);\r\n\r\n\t\t\t\tthis.setState({ uploadedModel: URL.createObjectURL(files[0]), isUploadDialogOpen: false }, () => {\r\n\t\t\t\t\tthis.props.loadingToggle();\r\n\t\t\t\t\tfetch(this.state.uploadedModel)\r\n\t\t\t\t\t\t.then(response => response.json())\r\n\t\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\t\twindow.loadJSON(data).then(surfaces => {\r\n\t\t\t\t\t\t\t\tthis.setState({ surfaceList: surfaces, color: data.color.toString(16) }, this.props.loadingToggle);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t\t\tthis.props.loadingToggle();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\thandleUploaderError(error, file) {\r\n\t\tthis.emitWarningMessage(error.message);\r\n\t}\r\n\r\n\thandleUploaderOpen() {\r\n\t\tthis.setState({ isUploadDialogOpen: true });\r\n\t}\r\n\r\n\thandleUploaderClose() {\r\n\t\tthis.setState({ isUploadDialogOpen: false });\r\n\t}\r\n\r\n\thandleSnackbarClose(event, reason) {\r\n\t\tif (reason === 'clickaway') { return; }\r\n\t\tthis.setState({ snackbarOpen: false, snackbarMsg: \"\" });\r\n\t}\r\n\r\n\temitWarningMessage(message) {\r\n\t\tthis.setState({ snackbarOpen: true, snackbarMsg: message });\r\n\t}\r\n\r\n\r\n\thandleViewCheck(event) {\r\n\t\tvar mode = event.target.value;\r\n\t\tif (this.state.viewDisplay !== mode) {\r\n\t\t\tthis.props.loadingToggle();\r\n\t\t\tthis.setState({ viewDisplay: mode }, () => {\r\n\t\t\t\twindow.changeViewMode(mode)\r\n\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\tthis.props.loadingToggle();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleMenuChange = panel => (event, isExpanded) => {\r\n\t\tthis.setState({ expandedMenu: isExpanded ? panel : false });\r\n\t\tthis.props.openFunction();\r\n\t};\r\n\r\n\thandleColorChange = (color, event) => {\r\n\t\tif (this.state.color !== color.hex) {\r\n\t\t\tthis.props.loadingToggle();\r\n\t\t\tthis.setState({ color: color.hex }, () => {\r\n\t\t\t\twindow.colorize(color)\r\n\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\tthis.props.loadingToggle();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={styles.root}>\r\n\t\t\t\t<div style={styles.subroot} className='hide-scrollbar'>\r\n\r\n\t\t\t\t\t{/* MODEL UPLOAD DIALOG */}\r\n\t\t\t\t\t<Dialog open={this.state.isUploadDialogOpen} onClose={this.handleUploaderClose} aria-labelledby=\"form-dialog-title\">\r\n\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Upload a 3D model</DialogTitle>\r\n\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t<Files\r\n\t\t\t\t\t\t\t\tclassName='files-dropzone'\r\n\t\t\t\t\t\t\t\tonChange={this.handleUploaderSave}\r\n\t\t\t\t\t\t\t\tonError={this.handleUploaderError}\r\n\t\t\t\t\t\t\t\taccepts={['.obj', '.json']}\r\n\t\t\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\t\t\tmaxFiles={1}\r\n\t\t\t\t\t\t\t\tmaxFileSize={200000000}\r\n\t\t\t\t\t\t\t\tminFileSize={0}\r\n\t\t\t\t\t\t\t\tclickable\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Box display=\"flex\" px={3} py={5} alignItems=\"center\" justifyContent=\"center\" style={styles.uploader}>\r\n\t\t\t\t\t\t\t\t\t<Typography>Drop files here or click to upload.</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Files>\r\n\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t<Button onClick={this.handleUploaderClose} color=\"primary\">\r\n\t\t\t\t\t\t\t\tClose\r\n          \t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t</Dialog>\r\n\r\n\t\t\t\t\t{/* WARNING MESSAGES */}\r\n\t\t\t\t\t<Snackbar\r\n\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\topen={this.state.snackbarOpen}\r\n\t\t\t\t\t\tautoHideDuration={6000}\r\n\t\t\t\t\t\tonClose={this.handleSnackbarClose}\r\n\t\t\t\t\t\tContentProps={{\r\n\t\t\t\t\t\t\t'aria-describedby': 'message-id',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tmessage={<span id=\"message-id\">{this.state.snackbarMsg}</span>}\r\n\t\t\t\t\t\taction={[\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey=\"close\"\r\n\t\t\t\t\t\t\t\taria-label=\"close\"\r\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\tonClick={this.handleSnackbarClose}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t</IconButton>,\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/* UPLOAD MENU */}\r\n\t\t\t\t\t{this.state.isUpload ? <React.Fragment>\r\n\t\t\t\t\t\t<ExpansionPanel expanded={this.props.open && (this.state.expandedMenu === 'upload')} onChange={this.handleMenuChange('upload')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\t\taria-controls=\"panel1a-content\"\r\n\t\t\t\t\t\t\t\tid=\"panel1a-header\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><PublishIcon /></ListItemIcon><Typography>Change Model</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><PublishIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.handleUploaderOpen} color=\"primary\">Upload a new model</Button>\r\n\t\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t\t</ExpansionPanel></React.Fragment> : null}\r\n\r\n\r\n\t\t\t\t\t{/* COLOR CHANGE MENU */}\r\n\t\t\t\t\t<ExpansionPanel expanded={this.props.open && (this.state.expandedMenu === 'color')} onChange={this.handleMenuChange('color')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\taria-controls=\"panel1a-content\"\r\n\t\t\t\t\t\t\tid=\"panel1a-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><ColorLensIcon /></ListItemIcon><Typography>Color</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><ColorLensIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<Box style={styles.colorpicker}>\r\n\t\t\t\t\t\t\t\t<TwitterPicker\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\tcolor={this.state.color}\r\n\t\t\t\t\t\t\t\t\tonChangeComplete={this.handleColorChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\r\n\r\n\t\t\t\t\t{/* SURFACE EDIT MENU */}\r\n\t\t\t\t\t<ExpansionPanel expanded={this.props.open && (this.state.expandedMenu === 'surfaces')} onChange={this.handleMenuChange('surfaces')}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\taria-controls=\"panel2a-content\"\r\n\t\t\t\t\t\t\tid=\"panel2a-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><BuildIcon /></ListItemIcon><Typography>Edit Surfaces</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><BuildIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<SurfaceList\r\n\t\t\t\t\t\t\t\tloading={this.props.loadingToggle}\r\n\t\t\t\t\t\t\t\tmodel_def_uri={this.state.model_def_uri}\r\n\t\t\t\t\t\t\t\tsurfaces={this.state.surfaceList}\r\n\t\t\t\t\t\t\t\twarningFunc={this.emitWarningMessage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\r\n\r\n\t\t\t\t\t{/* OPTIONS MENU */}\r\n\t\t\t\t\t<ExpansionPanel expanded={this.props.open && (this.state.expandedMenu === 'options')} onChange={this.handleMenuChange('options')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\taria-controls=\"panel2a-content\"\r\n\t\t\t\t\t\t\tid=\"panel2a-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><SettingsIcon /></ListItemIcon><Typography>Settings</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><SettingsIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t\t\t\t\t<FormLabel component=\"legend\"><ListItemIcon><ViewIcon /></ListItemIcon><Typography>Viewer Display</Typography></FormLabel>\r\n\t\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\t\taria-label=\"display\"\r\n\t\t\t\t\t\t\t\t\tname=\"display1\"\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.viewDisplay}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleViewCheck}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"color\" control={<Radio />} label=\"Color/Material\" />\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"texture\" control={<Radio />} label=\"Texture Mapping\" />\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"wireframe\" control={<Radio />} label=\"Wireframe View\" />\r\n\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\r\n\r\n\t\t\t\t\t{/* HELP MENU */}\r\n\t\t\t\t\t<ExpansionPanel expanded={this.props.open && (this.state.expandedMenu === 'help')} onChange={this.handleMenuChange('help')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\taria-controls=\"panel2a-content\"\r\n\t\t\t\t\t\t\tid=\"panel2a-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><HelpIcon /></ListItemIcon><Typography>Help</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><HelpIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<HelpMenu />\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\r\n\t\t\t\t\t{/* DOWNLOAD/SERVER MENU */}\r\n\t\t\t\t\t{true ? <React.Fragment>\r\n\t\t\t\t\t\t<ExpansionPanel expanded={this.props.open && (this.state.expandedMenu === 'download')} onChange={this.handleMenuChange('download')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\t\taria-controls=\"panel1a-content\"\r\n\t\t\t\t\t\t\t\tid=\"panel1a-header\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><CloudDownloadIcon /></ListItemIcon><Typography>Download Model</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><CloudDownloadIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.downloadModel} color=\"primary\">Download OBJ</Button>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.downloadJSON} color=\"primary\">Download JSON</Button>\r\n\t\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t\t</ExpansionPanel></React.Fragment> : null}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\n\r\nimport OptionMenu from './OptionMenu';\r\n\r\nconst drawerWidth = 350;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: theme.spacing(7) + 1,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9) + 1,\r\n    },\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 10px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function MiniDrawer(props) {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  function handleDrawerOpen() {\r\n    setOpen(true);\r\n  }\r\n\r\n  function handleDrawerClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function handleDrawerToggle() {\r\n    setOpen(!open);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <SwipeableDrawer\r\n        variant=\"permanent\"\r\n        className={clsx(classes.drawer, {\r\n          [classes.drawerOpen]: open,\r\n          [classes.drawerClose]: !open,\r\n        })}\r\n        classes={{\r\n          paper: clsx({\r\n            [classes.drawerOpen]: open,\r\n            [classes.drawerClose]: !open,\r\n          }),\r\n        }}\r\n        swipeAreaWidth={40}\r\n        onClose={handleDrawerClose}\r\n        onOpen={handleDrawerOpen}\r\n        PaperProps={{ style: { position: 'absolute' } }}\r\n        BackdropProps={{ style: { position: 'absolute' } }}\r\n        ModalProps={{\r\n          container: document.getElementById('drawer-container'),\r\n          style: { position: 'absolute' }\r\n        }}\r\n        open={open}\r\n        anchor=\"right\"\r\n      >\r\n        <div className={classes.toolbar}>\r\n          <IconButton onClick={handleDrawerToggle}>\r\n            {open ? <ChevronRightIcon /> : <MenuIcon />}\r\n          </IconButton>\r\n        </div>\r\n        <OptionMenu open={open} openFunction={handleDrawerOpen} loadingToggle={props.loadingFunction} />\r\n\r\n      </SwipeableDrawer>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { Component } from 'react';\nimport '../css/App.css';\n\nimport Box from '@material-ui/core/Box';\n\nimport Viewer3D from './Viewer3D';\nimport ToolbarMenu from './ToolbarMenu';\n\nexport default class App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: false\n\t\t};\n\t\tthis.toggleLoading = this.toggleLoading.bind(this);\n\t}\n\n\ttoggleLoading() {\n\t\tvar isLoading = this.state.loading;\n\t\tthis.setState({ loading: !isLoading });\n\t}\n\n\tcomponentDidMount() {\n\t\t//this.selectForm(\"Cube\");\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\", height: \"100%\", width: \"100%\", overflow: \"hidden\" }}>\n\t\t\t\t<Box display=\"flex\" height=\"100%\" width=\"100%\">\n\t\t\t\t\t<Box id=\"viewer-container\" height=\"100%\">\n\t\t\t\t\t\t<Viewer3D loading={this.state.loading} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box height=\"100%\" width=\"60px\" id=\"drawer-container\" position=\"relative\">\n\t\t\t\t\t\t<ToolbarMenu loadingFunction={this.toggleLoading}>\n\t\t\t\t\t\t</ToolbarMenu>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}