{"version":3,"sources":["components/Viewer3D.js","components/SurfaceListItem.js","components/SurfaceList.js","components/HelpMenu.js","components/OptionMenu.js","components/ToolbarMenu.js","components/App.js","serviceWorker.js","index.js"],"names":["Viewer3D","window","LITHO3D","createScene","react_default","a","createElement","id","Fade","in","this","props","loading","style","transitionDelay","unmountOnExit","CircularProgress","disableShrink","size","Component","CustomSlider","withStyles","root","minWidth","width","height","color","thumb","backgroundColor","border","marginTop","marginLeft","&:focus,&:hover,&$active","boxShadow","mark","active","valueLabel","left","top","track","borderRadius","rail","Slider","SurfaceListItem","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","DEFAULT_RES","isMobile","low_res","med_res","DEFAULT_SCALE","max_ext","Math","max","min_ext","state","anchorEl_tex","undefined","anchorEl_obj","dialogOpen","img_url","def_img_url","placeholderImage","index","img_file","enabled","def_res","usable","hasOwnProperty","def_state","scale","def_ext","resolution","reference","def_ref","transX","def_transX","transY","def_transY","scaleX","def_scaleX","scaleY","def_scaleY","surfaceAspectEnabled","def_surf_asp","rotation","def_rotation","handleOpenMenu","bind","assertThisInitialized","handleOpenTexMenu","handleCloseMenu","handleOpenDialog","handleCloseDialog","handleCheck","onImageAdd","onImageAddError","onImageRemove","handleScaleChange","debounce","handleScaleSliderChange","handleResolutionChange","handleRefTypeChange","handleTextureSARChange","handleTextureTransXChange","throttle","handleTextureTransYChange","handleTextureScaleXChange","handleTextureScaleYChange","handleTextureRotationChange","handleTexturePositionReset","formatSliderScaling","formatSliderRotation","event","setState","currentTarget","file","_this2","length","warningFunc","imgURL","URL","createObjectURL","addReference","then","revokeObjectURL","refs","files","name","substring","lastIndexOf","title","changeReferencePosition","catch","err","message","error","_this3","removeReference","_this4","target","checked","changeReferenceState","newValue","_this5","applyReference","_this6","updateSurface","_this7","changeReferenceType","_this8","e","_this9","oldValue","_this10","_this11","_this12","_this13","_this14","x","toFixed","_this15","Fragment","ListItem","key","concat","item","Box","display","dist_default","className","ref","onChange","onError","accepts","multiple","maxFiles","maxFileSize","minFileSize","clickable","alignSelf","ButtonBase","focusRipple","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","Tooltip","enterDelay","AddCircle_default","opacity","flexDirection","flexGrow","pl","alignItems","Typography","Divider","IconButton","aria-label","onClick","Delete_default","disabled","aria-controls","aria-haspopup","OpenWith_default","Menu_Menu","anchorEl","keepMounted","open","Boolean","onClose","px","py","value","aria-labelledby","valueLabelDisplay","step","marks","min","valueLabelFormat","PI","justifyContent","ml","pb","Checkbox","Button","variant","ExpandMore_default","pt","ToggleButtonGroup","exclusive","ToggleButton","high_res","ultra_res","defaultValue","Dialog","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","useStyles","makeStyles","theme","overflow","subroot","paddingRight","root2","position","maxHeight","SurfaceList","classes","_useState","useState","_useState2","slicedToArray","properties","setProperties","hasProperty","surface","property","defaultProperty","med","useEffect","model_def_uri","fetch","response","json","data","List","surfaces","map","isUpload","exclude","SurfaceListItem_SurfaceListItem","low_div_rate","med_div_rate","high_div_rate","ultra_div_rate","min_extrusion_rate","max_extrusion_rate","extrusion","styles","helper","textAlign","whiteSpace","overflowY","overflowX","helpSectionArray","text","HelpMenu","_React$useState","React","_React$useState2","setOpen","_React$useState3","_React$useState4","setTitle","_React$useState5","_React$useState6","setText","handleClose","scroll","dividers","paragraph","help","type","heading","fontSize","fontWeight","colorpicker","uploader","margin","mobileTransparent","toolbar","padding","OptionMenu","handleMenuChange","panel","isExpanded","expandedMenu","openFunction","handleColorChange","hex","loadingToggle","colorize","emitWarningMessage","model_uri","model_type","surfaceList","viewDisplay","snackbarOpen","snackbarDuration","snackbarMsg","isUploadDialogOpen","uploadedModel","handleViewCheck","handleUploaderClose","handleUploaderOpen","handleUploaderSave","handleUploaderError","handleSnackbarClose","downloadModelOBJ","downloadModelSTL","downloadModelGLB","downloadJSON","downloadZip","getConfiguration","format","exec","MODELTYPES","UPLOAD","loadModel","Promise","resolve","container","document","getElementById","hasAttribute","getAttribute","downloadSTL","downloadOBJ","downloadGLTF","res","extension","upload","loadZip","result","viewMode","model_url","model_def_url","duration","arguments","reason","mode","changeViewMode","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","action","Close_default","openToggle","ChevronRight_default","Menu_default","ExpansionPanel","elevation","expanded","TransitionProps","ExpansionPanelSummary","expandIcon","ListItemIcon","Publish_default","ExpansionPanelDetails","ColorLens_default","lib","onChangeComplete","Build_default","Settings_default","FormControl","component","FormLabel","RemoveRedEye_default","RadioGroup","FormControlLabel","control","Radio","label","Help_default","CloudDownload_default","flexWrap","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","hide","flexShrink","drawerOpen","drawerClose","defineProperty","spacing","breakpoints","up","objectSpread","mixins","content","ToolbarMenu","_clsx","_clsx2","useTheme","handleDrawerOpen","handleDrawerClose","handleDrawerToggle","es","onSwiping","dir","delta","SwipeableDrawer","clsx","paper","onOpen","PaperProps","BackdropProps","ModalProps","anchor","OptionMenu_OptionMenu","loadingFunction","App","toggleLoading","Viewer3D_Viewer3D","location","hostname","match","ReactDOM","render","App_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0fab3e3b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport Fade from '@material-ui/core/Fade';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nexport default class Viewer3D extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.LITHO3D.createScene();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"viewer\">\r\n\t\t\t\t<div id=\"loadingScreen\">\r\n\t\t\t\t\t<Fade\r\n\t\t\t\t\t\tin={this.props.loading}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttransitionDelay: this.props.loading ? '200ms' : '0ms',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tunmountOnExit\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CircularProgress disableShrink={false} size={100} />\r\n\t\t\t\t\t</Fade>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Files from 'react-files';\r\nimport { debounce, throttle } from 'lodash';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Checkbox from '@material-ui/core/CheckBox';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup'\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport MoveIcon from '@material-ui/icons/OpenWith';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\n\r\n\r\nconst CustomSlider = withStyles({\r\n\troot: {\r\n\t\tminWidth: 110,\r\n\t\twidth: 'calc(100% - 20px)',\r\n\t\theight: 15,\r\n\t\tcolor: 'rgba(0, 0, 0, 1)',\r\n\t},\r\n\tthumb: {\r\n\t\theight: 20,\r\n\t\twidth: 20,\r\n\t\tbackgroundColor: '#fff',\r\n\t\tborder: '2px solid currentColor',\r\n\t\tmarginTop: -4,\r\n\t\tmarginLeft: -12,\r\n\t\t'&:focus,&:hover,&$active': {\r\n\t\t\tboxShadow: 'inherit',\r\n\t\t},\r\n\t},\r\n\tmark: {\r\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0)',\r\n\t\theight: 8,\r\n\t\twidth: 1,\r\n\t\tmarginTop: -3,\r\n\t},\r\n\tactive: {},\r\n\tvalueLabel: {\r\n\t\tleft: 'calc(-50% + 0px)',\r\n\t\ttop: -22,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.5)',\r\n\t},\r\n\ttrack: {\r\n\t\theight: 8,\r\n\t\tborderRadius: 2,\r\n\t\tcolor: 'rgba(0, 0, 0, 0)',\r\n\t},\r\n\trail: {\r\n\t\theight: 10,\r\n\t\tborderRadius: 2,\r\n\t\tcolor: 'rgba(0, 0, 0, 1)',\r\n\t},\r\n})(Slider);\r\n\r\n\r\nexport default class SurfaceListItem extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t//Initial default values\r\n\t\tthis.DEFAULT_RES = this.props.isMobile ? this.props.low_res : this.props.med_res;\r\n\t\tthis.DEFAULT_SCALE = this.props.max_ext * 0.2 !== 0 ?\r\n\t\t\tMath.max(this.props.min_ext * 0.2, this.props.max_ext * 0.2) : this.props.min_ext * 0.2;\r\n\r\n\t\tthis.state = {\r\n\t\t\tanchorEl_tex: undefined,\r\n\t\t\tanchorEl_obj: undefined,\r\n\t\t\tdialogOpen: false,\r\n\t\t\tloading: false,\r\n\t\t\timg_url: this.props.def_img_url ? this.props.def_img_url : window.LITHO3D.placeholderImage(this.props.index),\r\n\t\t\timg_file: null,\r\n\t\t\tenabled: this.props.def_res ? true : false,\r\n\t\t\tusable: this.props.hasOwnProperty(\"def_state\") ? this.props.def_state : true,\r\n\t\t\tscale: this.props.def_ext !== null ? this.props.def_ext : this.DEFAULT_SCALE,\r\n\t\t\tresolution: this.props.def_res !== null ? this.props.def_res : this.DEFAULT_RES,\r\n\t\t\treference: this.props.def_ref ? this.props.def_ref : \"positive\",\r\n\t\t\ttransX: this.props.def_transX,\r\n\t\t\ttransY: this.props.def_transY,\r\n\t\t\tscaleX: this.props.def_scaleX,\r\n\t\t\tscaleY: this.props.def_scaleY,\r\n\t\t\tsurfaceAspectEnabled: this.props.def_surf_asp,\r\n\t\t\trotation: this.props.def_rotation\r\n\t\t};\r\n\r\n\t\tthis.handleOpenMenu = this.handleOpenMenu.bind(this);\r\n\t\tthis.handleOpenTexMenu = this.handleOpenTexMenu.bind(this);\r\n\t\tthis.handleCloseMenu = this.handleCloseMenu.bind(this);\r\n\t\tthis.handleOpenDialog = this.handleOpenDialog.bind(this);\r\n\t\tthis.handleCloseDialog = this.handleCloseDialog.bind(this);\r\n\t\tthis.handleCheck = this.handleCheck.bind(this);\r\n\t\tthis.onImageAdd = this.onImageAdd.bind(this);\r\n\t\tthis.onImageAddError = this.onImageAddError.bind(this);\r\n\t\tthis.onImageRemove = this.onImageRemove.bind(this);\r\n\t\tthis.handleScaleChange = debounce(this.handleScaleSliderChange.bind(this), this.props.isMobile ? 150 : 50);\r\n\t\tthis.handleResolutionChange = this.handleResolutionChange.bind(this);\r\n\t\tthis.handleRefTypeChange = this.handleRefTypeChange.bind(this);\r\n\t\tthis.handleTextureSARChange = this.handleTextureSARChange.bind(this);\r\n\t\tthis.handleTextureTransXChange = throttle(this.handleTextureTransXChange.bind(this), this.props.isMobile ? 150 : 50);\r\n\t\tthis.handleTextureTransYChange = throttle(this.handleTextureTransYChange.bind(this), this.props.isMobile ? 150 : 50);\r\n\t\tthis.handleTextureScaleXChange = throttle(this.handleTextureScaleXChange.bind(this), this.props.isMobile ? 150 : 50);\r\n\t\tthis.handleTextureScaleYChange = throttle(this.handleTextureScaleYChange.bind(this), this.props.isMobile ? 150 : 50);\r\n\t\tthis.handleTextureRotationChange = throttle(this.handleTextureRotationChange.bind(this), this.props.isMobile ? 150 : 50);\r\n\t\tthis.handleTexturePositionReset = this.handleTexturePositionReset.bind(this);\r\n\t\tthis.formatSliderScaling = this.formatSliderScaling.bind(this);\r\n\t\tthis.formatSliderRotation = this.formatSliderRotation.bind(this);\r\n\t}\r\n\r\n\thandleOpenMenu(event) {\r\n\t\tthis.setState({ anchorEl_obj: event.currentTarget });\r\n\t}\r\n\r\n\thandleOpenTexMenu(event) {\r\n\t\tthis.setState({ anchorEl_tex: event.currentTarget });\r\n\t}\r\n\thandleCloseMenu() {\r\n\t\tthis.setState({ anchorEl_tex: null, anchorEl_obj: null });\r\n\t}\r\n\r\n\thandleOpenDialog() {\r\n\t\tthis.setState({ dialogOpen: true });\r\n\t}\r\n\thandleCloseDialog() {\r\n\t\tthis.setState({ dialogOpen: false });\r\n\t}\r\n\r\n\tonImageAdd(file) {\r\n\t\tif (file.length > 0) {\r\n\t\t\tthis.props.warningFunc(\"Adding image to surface...\", 30000);\r\n\t\t\tthis.props.loading(true);\r\n\r\n\t\t\tvar imgURL = URL.createObjectURL(file[0]);\r\n\r\n\t\t\twindow.LITHO3D.addReference(this.props.index, imgURL, this.state.resolution, this.state.scale)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tif (this.state.img_url !== \"\" && this.state.img_url !== window.LITHO3D.placeholderImage(this.props.index))\r\n\t\t\t\t\t\tURL.revokeObjectURL(this.state.img_url);\r\n\r\n\t\t\t\t\tthis.setState({ img_url: imgURL, img_file: file[0], enabled: true}, () => {\r\n\t\t\t\t\t\tthis.refs.files.setState({ files: [] });\r\n\r\n\t\t\t\t\t\t//If the name of the texture matches the surface id, we treat it as being UV mapped by default.\r\n\t\t\t\t\t\tvar filename = file[0].name.substring(0, file[0].name.lastIndexOf('.'));\r\n\t\t\t\t\t\tif(filename === this.props.title){\r\n\t\t\t\t\t\t\tthis.setState({surfaceAspectEnabled: false}, ()=>{\r\n\t\t\t\t\t\t\t\twindow.LITHO3D.changeReferencePosition(this.props.index, this.state.transX, this.state.transY, 1 / this.state.scaleX, 1 / this.state.scaleY, this.state.rotation, this.state.surfaceAspectEnabled, this.state.scale)});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\t\t\tthis.props.warningFunc(\"New image reference was set.\", 1000);\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.props.warningFunc(err.message);\r\n\t\t\t\t\tURL.revokeObjectURL(imgURL);\r\n\t\t\t\t\tthis.refs.files.setState({ files: [] });\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonImageAddError(error) {\r\n\t\tthis.props.warningFunc(error.message);\r\n\t}\r\n\r\n\tonImageRemove() {\r\n\t\twindow.LITHO3D.removeReference(this.props.index)\r\n\t\t\t.then(() => {\r\n\t\t\t\tif (this.state.img_url !== \"\" && this.state.img_url !== window.LITHO3D.placeholderImage(this.props.index))\r\n\t\t\t\t\tURL.revokeObjectURL(this.state.img_url);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\timg_url: window.LITHO3D.placeholderImage(this.props.index), img_file: null, enabled: false, usable: true,\r\n\t\t\t\t\tscale: this.props.def_ext !== null ? this.props.def_ext : this.DEFAULT_SCALE,\r\n\t\t\t\t\tresolution: this.props.def_res !== null ? this.props.def_res : this.DEFAULT_RES\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tthis.refs.files.setState({ files: [] });\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.props.warningFunc(err.message);\r\n\t\t\t\tthis.refs.files.setState({ files: [] });\r\n\t\t\t\tthis.props.loading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\thandleCheck(event) {\r\n\t\tif (this.state.usable !== event.target.checked) {\r\n\t\t\tvar checked = this.state.usable;\r\n\t\t\tthis.props.loading(true);\r\n\t\t\tif (window.LITHO3D.changeReferenceState(this.props.index, !checked, this.state.scale)) {\r\n\t\t\t\tthis.setState({ usable: !checked }, () => {\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse this.props.loading(false);\r\n\t\t}\r\n\t};\r\n\r\n\thandleScaleSliderChange(event, newValue) {\r\n\t\tif (this.state.scale !== newValue) {\r\n\t\t\tthis.props.loading(true);\r\n\t\t\tif (window.LITHO3D.applyReference(this.props.index, newValue)) {\r\n\t\t\t\tthis.setState({ scale: newValue }, () => {\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse this.props.loading(false);\r\n\t\t}\r\n\t}\r\n\r\n\thandleResolutionChange(event, newValue) {\r\n\t\tif (this.state.resolution !== newValue) {\r\n\t\t\tthis.props.warningFunc(\"Changing model resolution...\", 10000);\r\n\t\t\tthis.props.loading(true);\r\n\t\t\twindow.LITHO3D.updateSurface(this.props.index, newValue, this.state.scale)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.setState({ resolution: newValue }, () => {\r\n\t\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\t\t\tthis.props.warningFunc(\"New resolution was set.\", 1000);\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.props.warningFunc(err.message);\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleRefTypeChange(event, newValue) {\r\n\t\tif (this.state.reference !== newValue) {\r\n\t\t\tthis.props.loading(true);\r\n\t\t\tif (window.LITHO3D.changeReferenceType(this.props.index, newValue, this.state.scale)) {\r\n\t\t\t\tthis.setState({ reference: newValue }, () => {\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse this.props.loading(false);\r\n\t\t}\r\n\t}\r\n\r\n\thandleTextureSARChange(event) {\r\n\t\tif (this.state.surfaceAspectEnabled !== event.target.checked) {\r\n\t\t\tvar checked = this.state.surfaceAspectEnabled;\r\n\t\t\tthis.props.loading(true);\r\n\t\t\tthis.setState({ surfaceAspectEnabled: event.target.checked }, () => {\r\n\t\t\t\tif (window.LITHO3D.changeReferencePosition(this.props.index, this.state.transX, this.state.transY, 1 / this.state.scaleX, 1 / this.state.scaleY, this.state.rotation, this.state.surfaceAspectEnabled, this.state.scale))\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.setState({ surfaceAspectEnabled: checked }, () => {\r\n\t\t\t\t\t\tthis.props.loading(false)\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\thandleTextureTransXChange(e, newValue) {\r\n\t\tif (this.state.transX !== newValue) {\r\n\t\t\tvar oldValue = this.state.transX;\r\n\t\t\tthis.props.loading(true);\r\n\t\t\tthis.setState({ transX: newValue }, () => {\r\n\t\t\t\tif (window.LITHO3D.changeReferencePosition(this.props.index, this.state.transX, this.state.transY, 1 / this.state.scaleX, 1 / this.state.scaleY, this.state.rotation, this.state.surfaceAspectEnabled, this.state.scale))\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.setState({ transX: oldValue }, () => {\r\n\t\t\t\t\t\tthis.props.loading(false)\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\thandleTextureTransYChange(e, newValue) {\r\n\t\tif (this.state.transY !== newValue) {\r\n\t\t\tvar oldValue = this.state.transY;\r\n\t\t\tthis.props.loading(true);\r\n\t\t\tthis.setState({ transY: newValue }, () => {\r\n\t\t\t\tif (window.LITHO3D.changeReferencePosition(this.props.index, this.state.transX, this.state.transY, 1 / this.state.scaleX, 1 / this.state.scaleY, this.state.rotation, this.state.surfaceAspectEnabled, this.state.scale))\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.setState({ transY: oldValue }, () => {\r\n\t\t\t\t\t\tthis.props.loading(false)\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\thandleTextureScaleXChange(e, newValue) {\r\n\t\tif (this.state.scaleX !== newValue) {\r\n\t\t\tvar oldValue = this.state.scaleX;\r\n\t\t\tthis.props.loading(true);\r\n\t\t\tthis.setState({ scaleX: newValue }, () => {\r\n\t\t\t\tif (window.LITHO3D.changeReferencePosition(this.props.index, this.state.transX, this.state.transY, 1 / this.state.scaleX, 1 / this.state.scaleY, this.state.rotation, this.state.surfaceAspectEnabled, this.state.scale))\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.setState({ scaleX: oldValue }, () => {\r\n\t\t\t\t\t\tthis.props.loading(false)\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\thandleTextureScaleYChange(e, newValue) {\r\n\t\tif (this.state.scaleY !== newValue) {\r\n\t\t\tvar oldValue = this.state.scaleY;\r\n\t\t\tthis.props.loading(true);\r\n\t\t\tthis.setState({ scaleY: newValue }, () => {\r\n\t\t\t\tif (window.LITHO3D.changeReferencePosition(this.props.index, this.state.transX, this.state.transY, 1 / this.state.scaleX, 1 / this.state.scaleY, this.state.rotation, this.state.surfaceAspectEnabled, this.state.scale))\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.setState({ scaleY: oldValue }, () => {\r\n\t\t\t\t\t\tthis.props.loading(false)\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\thandleTextureRotationChange(e, newValue) {\r\n\t\tif (this.state.rotation !== newValue) {\r\n\t\t\tvar oldValue = this.state.rotation;\r\n\t\t\tthis.props.loading(true);\r\n\t\t\tthis.setState({ rotation: newValue }, () => {\r\n\t\t\t\tif (window.LITHO3D.changeReferencePosition(this.props.index, this.state.transX, this.state.transY, 1 / this.state.scaleX, 1 / this.state.scaleY, this.state.rotation, this.state.surfaceAspectEnabled, this.state.scale))\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.setState({ rotation: oldValue }, () => {\r\n\t\t\t\t\t\tthis.props.loading(false)\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleTexturePositionReset(event) {\r\n\t\tif (window.LITHO3D.changeReferencePosition(this.props.index, 0, 0, 1, 1, 0, this.state.surfaceAspectEnabled, this.state.scale)\r\n\t\t) {\r\n\t\t\tthis.setState({ transX: 0, transY: 0, scaleX: 1, scaleY: 1, rotation: 0 },\r\n\t\t\t\t() => {\r\n\t\t\t\t\tthis.props.loading(false);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tformatSliderScaling(x) {\r\n\t\treturn x.toFixed(2);\r\n\t}\r\n\r\n\tformatSliderRotation(x) {\r\n\t\treturn x.toFixed(2);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<ListItem key={`item-${this.props.item}`}>\r\n\r\n\t\t\t\t\t<Box width=\"100%\" height={80} display=\"flex\">\r\n\r\n\t\t\t\t\t\t<Files\r\n\t\t\t\t\t\t\tclassName='files-dropzone'\r\n\t\t\t\t\t\t\tref='files'\r\n\t\t\t\t\t\t\tonChange={this.onImageAdd}\r\n\t\t\t\t\t\t\tonError={this.onImageAddError}\r\n\t\t\t\t\t\t\taccepts={['image/*']}\r\n\t\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\t\tmaxFiles={1}\r\n\t\t\t\t\t\t\tmaxFileSize={10000000}\r\n\t\t\t\t\t\t\tminFileSize={0}\r\n\t\t\t\t\t\t\tclickable\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box width={80} height={80} alignSelf=\"flex-start\">\r\n\r\n\t\t\t\t\t\t\t\t<ButtonBase\r\n\t\t\t\t\t\t\t\t\tfocusRipple\r\n\t\t\t\t\t\t\t\t\tkey={this.props.item + 1}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t\t\t\theight: \"100%\",\r\n\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${this.state.img_url})`,\r\n\t\t\t\t\t\t\t\t\t\tbackgroundSize: 'contain',\r\n\t\t\t\t\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\t\t\t\t\t\tbackgroundPosition: 'center'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span className=\"showonfocus\">\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={this.state.enabled ? \"Change Image\" : \"Add Image\"} enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t\t<AddCircleIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity: 0.6,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: \"50%\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: \"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</ButtonBase>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Files>\r\n\r\n\r\n\t\t\t\t\t\t<Box height={80} flexDirection='column' flexGrow={1} alignSelf=\"center\">\r\n\r\n\t\t\t\t\t\t\t<Box height={40} pl={3} display=\"flex\" flexGrow={1} alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{this.props.title}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t\t<Divider />\r\n\r\n\t\t\t\t\t\t\t<Box height={40} pl={1} display=\"flex\" flexGrow={1} alignItems=\"center\">\r\n\r\n\t\t\t\t\t\t\t\t{/*CLEAR*/}\r\n\t\t\t\t\t\t\t\t{this.state.enabled ?\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Clear\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"delete\" onClick={this.handleOpenDialog}><DeleteIcon /></IconButton>\r\n\t\t\t\t\t\t\t\t\t</Tooltip> :\r\n\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-label=\"delete\" onClick={this.handleOpenDialog}><DeleteIcon /></IconButton>\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t{/*MOVE MENU*/}\r\n\t\t\t\t\t\t\t\t{this.state.enabled ?\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Move/Rotate\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-controls={\"texture-menu\" + this.props.item} aria-haspopup=\"true\" onClick={this.handleOpenTexMenu}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MoveIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton >\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\t\t\tid={\"texture-menu\" + this.props.item}\r\n\t\t\t\t\t\t\t\t\t\t\tanchorEl={this.state.anchorEl_tex}\r\n\t\t\t\t\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\t\t\t\t\topen={Boolean(this.state.anchorEl_tex)}\r\n\t\t\t\t\t\t\t\t\t\t\tonClose={this.handleCloseMenu}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box px={2} py={1} display=\"flex\" flexDirection='column' flexGrow={1} alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Translate X</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CustomSlider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTextureTransXChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.transX}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={this.props.isMobile ? 0.1 : 0.05}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={-1.5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={1.5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Translate Y</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CustomSlider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTextureTransYChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.transY}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={this.props.isMobile ? 0.1 : 0.05}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={-1.5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={1.5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Scale X</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CustomSlider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTextureScaleXChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.scaleX}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelFormat={this.formatSliderScaling}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={this.props.isMobile ? 0.1 : 0.05}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0.05}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={1.95}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Scale Y</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CustomSlider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTextureScaleYChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.scaleY}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelFormat={this.formatSliderScaling}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={this.props.isMobile ? 0.1 : 0.05}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0.005}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={2.005}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Rotate</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CustomSlider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTextureRotationChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.rotation}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelFormat={this.formatSliderRotation}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep={Math.PI / 32}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={-Math.PI}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={Math.PI}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title={<div>Automatically corrects aspect ratio based on surface.<br />Disable if using textures that are already UV mapped.</div>} enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" ml={-1} pb={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox checked={this.state.surfaceAspectEnabled} onChange={this.handleTextureSARChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Auto Correct</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={this.handleTexturePositionReset}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t\t\t  \t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-controls={\"texture-menu\" + this.props.item} aria-haspopup=\"true\" onClick={this.handleOpenTexMenu}>\r\n\t\t\t\t\t\t\t\t\t\t<MoveIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton >\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t{/*VOLUME MENU*/}\r\n\t\t\t\t\t\t\t\t{this.state.enabled ?\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Volume\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-controls={\"sculpting-menu\" + this.props.item} aria-haspopup=\"true\" onClick={this.handleOpenMenu}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ExpandMoreIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton >\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\t\t\tid={\"sculpting-menu\" + this.props.item}\r\n\t\t\t\t\t\t\t\t\t\t\tanchorEl={this.state.anchorEl_obj}\r\n\t\t\t\t\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\t\t\t\t\topen={Boolean(this.state.anchorEl_obj)}\r\n\t\t\t\t\t\t\t\t\t\t\tonClose={this.handleCloseMenu}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box px={2} py={1} display=\"flex\" flexDirection='column' flexGrow={1} alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box pt={1} display=\"flex\" flexDirection='column' flexGrow={1} alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Image Reference</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButtonGroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.reference}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\texclusive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleRefTypeChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"reference\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value=\"positive\" aria-label=\"positive\" disabled={this.state.reference === \"positive\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPositive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value=\"negative\" aria-label=\"negative\" disabled={this.state.reference === \"negative\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNegative\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButtonGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box pt={2} display=\"flex\" flexDirection='column' flexGrow={1} alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Resolution</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButtonGroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.resolution}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\texclusive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleResolutionChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"resolution\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value={this.props.low_res} aria-label=\"low\" disabled={this.state.resolution === this.props.low_res}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlow\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value={this.props.med_res} aria-label=\"mid\" disabled={this.state.resolution === this.props.med_res}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value={this.props.high_res} aria-label=\"high\" disabled={this.state.resolution === this.props.high_res}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thigh\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton value={this.props.ultra_res} aria-label=\"ultra\" disabled={this.state.resolution === this.props.ultra_res}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tultra\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButtonGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box width=\"100%\" pt={2} display=\"flex\" flexDirection='column' flexGrow={1} alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Extrude Scale</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomSlider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleScaleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state.scale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep={0.5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={this.props.min_ext}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={this.props.max_ext}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<IconButton disabled={!this.state.enabled} aria-controls={\"sculpting-menu\" + this.props.item} aria-haspopup=\"true\" onClick={this.handleOpenMenu}>\r\n\t\t\t\t\t\t\t\t\t\t<ExpandMoreIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton >\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t{/*Enable/Disable Checkmark*/}\r\n\t\t\t\t\t\t<Box width={40} height={80} display=\"flex\" alignItems=\"center\" alignSelf=\"flex-end\">\r\n\t\t\t\t\t\t\t{this.state.enabled ?\r\n\t\t\t\t\t\t\t\tthis.state.usable ?\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Disable\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox disabled={!this.state.enabled} checked={this.state.usable} onChange={this.handleCheck} />\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Enable\" enterDelay={100}>\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox disabled={!this.state.enabled} checked={this.state.usable} onChange={this.handleCheck} />\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.enabled}\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.usable}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleCheck}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.state.dialogOpen}\r\n\t\t\t\t\tonClose={this.handleCloseDialog}\r\n\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\r\n\t\t\t\t\taria-describedby=\"alert-dialog-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{\"Clear surface?\"}</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t\tDo you wish to clear the data on the selected surface?\r\n\t\t\t  \t\t\t</DialogContentText>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={() => { this.handleCloseDialog(); this.onImageRemove(); }} color=\"primary\">\r\n\t\t\t\t\t\t\tConfirm\r\n\t\t\t  \t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={this.handleCloseDialog} color=\"primary\" autoFocus>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t  \t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport SurfaceListItem from './SurfaceListItem';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\toverflow: 'hidden'\r\n\t},\r\n\tsubroot: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\toverflow: 'auto',\r\n\t\tpaddingRight: '20px'\r\n\t},\r\n\troot2: {\r\n\t\twidth: '100%',\r\n\t\tbackgroundColor: window.LITHO3D.isMobile ? \"rgba(230,230,230,0)\" : \"rgba(255,255,255,1)\",\r\n\t\tposition: 'relative',\r\n\t\tmaxHeight: 250,\r\n\t},\r\n}));\r\n\r\nexport default function SurfaceList(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst warningFunc = props.warningFunc;\r\n\tconst [properties, setProperties] = useState(null);\r\n\r\n\tfunction hasProperty(surface, property) {\r\n\t\treturn properties !== null && properties[surface.name] && properties[surface.name].hasOwnProperty(property);\r\n\t};\r\n\r\n\t/* Acquire surface properties JSON. These are used to control premade model default ranges and values. */\r\n\tuseEffect(() => {\r\n\t\tif(props.model_def_uri && props.model_def_uri !== \"\"){\r\n\t\t\tfetch(props.model_def_uri)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tsetProperties(data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\twarningFunc(error.message);\r\n\t\t\t});\r\n\t\t}\r\n\t}, [props.model_def_uri, warningFunc]);\r\n\r\n\r\n\tfunction defaultProperty(surface, property){\r\n\t\tvar isMobile = window.LITHO3D.isMobile;\r\n\r\n\t\tswitch(property){\r\n\t\t\tcase \"low\":\r\n\t\t\t\treturn isMobile ? surface.med - 2 : surface.med - 1;\r\n\t\t\tcase \"med\":\r\n\t\t\t\treturn isMobile ? surface.med - 1 : surface.med;\r\n\t\t\tcase \"high\":\r\n\t\t\t\treturn isMobile ? surface.med : surface.med + 1;\r\n\t\t\tcase \"ultra\":\r\n\t\t\t\treturn isMobile ? surface.med + 1 : surface.med + 2;\r\n\t\t\tcase \"min\":\r\n\t\t\t\treturn -5;\r\n\t\t\tcase \"max\":\r\n\t\t\t\treturn 5;\r\n\t\t\tdefault:\r\n\t\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div className={classes.subroot+' hide-scrollbar'}>\r\n\t\t\t\t<List className={classes.root2}>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t{props.surfaces.length > 0 ?\r\n\t\t\t\t\t\tprops.surfaces.map((surface, index) => (\r\n\t\t\t\t\t\t\tprops.isUpload || (hasProperty(surface, \"exclude\") && !properties[surface.name].exclude) ?\r\n\t\t\t\t\t\t\t<div key={`li-${index}-${surface.name}`}>\r\n\t\t\t\t\t\t\t\t<SurfaceListItem\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\titem={surface.name}\r\n\t\t\t\t\t\t\t\t\tisMobile={window.LITHO3D.isMobile}\r\n\t\t\t\t\t\t\t\t\ttitle={hasProperty(surface, \"title\") ? properties[surface.name].title : surface.name}\r\n\t\t\t\t\t\t\t\t\tlow_res={hasProperty(surface, \"low_div_rate\") ? properties[surface.name].low_div_rate : defaultProperty(surface, \"low\")}\r\n\t\t\t\t\t\t\t\t\tmed_res={hasProperty(surface, \"med_div_rate\") ? properties[surface.name].med_div_rate : defaultProperty(surface, \"med\")}\r\n\t\t\t\t\t\t\t\t\thigh_res={hasProperty(surface, \"high_div_rate\") ? properties[surface.name].high_div_rate : defaultProperty(surface, \"high\")}\r\n\t\t\t\t\t\t\t\t\tultra_res={hasProperty(surface, \"ultra_div_rate\") ? properties[surface.name].ultra_div_rate : defaultProperty(surface, \"ultra\")}\r\n\t\t\t\t\t\t\t\t\tmin_ext={hasProperty(surface, \"min_extrusion_rate\") ? properties[surface.name].min_extrusion_rate : defaultProperty(surface, \"min\")}\r\n\t\t\t\t\t\t\t\t\tmax_ext={hasProperty(surface, \"max_extrusion_rate\") ? properties[surface.name].max_extrusion_rate : defaultProperty(surface, \"max\")}\r\n\t\t\t\t\t\t\t\t\tdef_ext={surface.extrusion ? surface.extrusion : null}\r\n\t\t\t\t\t\t\t\t\tdef_res={surface.resolution ? surface.resolution : null}\r\n\t\t\t\t\t\t\t\t\tdef_transX={surface.transX ? surface.transX : 0}\r\n\t\t\t\t\t\t\t\t\tdef_transY={surface.transY ? surface.transY : 0}\r\n\t\t\t\t\t\t\t\t\tdef_scaleX={surface.scaleX ? surface.scaleX : 1}\r\n\t\t\t\t\t\t\t\t\tdef_scaleY={surface.scaleY ? surface.scaleY : 1}\r\n\t\t\t\t\t\t\t\t\tdef_rotation={surface.rotation ? surface.rotation : 0}\r\n\t\t\t\t\t\t\t\t\tdef_ref={surface.reference ? surface.reference : \"positive\"}\r\n\t\t\t\t\t\t\t\t\tdef_state={surface.hasOwnProperty(\"state\") ? surface.state : true}\r\n\t\t\t\t\t\t\t\t\tdef_img_url={surface.img_url ? surface.img_url : null}\r\n\t\t\t\t\t\t\t\t\tdef_surf_asp={surface.hasOwnProperty(\"surfaceAspectEnabled\") ? surface.surfaceAspectEnabled : true}\r\n\t\t\t\t\t\t\t\t\tloading={props.loading}\r\n\t\t\t\t\t\t\t\t\twarningFunc={props.warningFunc}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t</div> : null\r\n\t\t\t\t\t\t)) :\r\n\t\t\t\t\t\t<div>No customizable surfaces were found.</div>}\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React from 'react';\r\n\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n\r\nconst styles = {\r\n\thelper: {\r\n\t\ttextAlign: \"left\",\r\n\t\tdisplay: \"inline-block\",\r\n\t\twhiteSpace: \"pre-wrap\",\r\n\t\twidth: \"100%\",\r\n\t\tmaxHeight: \"250px\",\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: \"hidden\"\r\n\t}\r\n};\r\n\r\nconst helpSectionArray = [\r\n{\r\n    title: \"What is this app?\",\r\n    text: [\r\n        \"This is an application that is capable of personalizing 3D models to your hearts content!\",\r\n        \"Use the toolbar to the right to change settings and upload images, these will be used to manipulate the model's appearance.\"\r\n    ]\r\n},\r\n{\r\n    title: \"How do I select a model?\",\r\n    text: [\r\n        'Outside of default models, you can change the current model on scene via the \"Change Models\" tab.',\r\n        'Pressing the option will bring a prompt to upload a new 3D model. Supported formats are; \"OBJ\" and \"GLB\". Maximum file size is 100MB',\r\n        'You can also upload ZIP files containing the necessary data to recreate the model and changes, these are supplied by the application in the \"Download Models\" menu, where you can also acquire your final model.',\r\n        \"[NOTE: This will likely not be accessible to the user buying a product, the PREMADE configuration will give them a single default model that is assigned to each product.]\"\r\n\r\n    ]\r\n},\r\n{\r\n    title: \"How do I change the color of the model?\",\r\n    text: [\r\n        'You can change colors by selecting the \"Color\" tab in the toolbar.',\r\n        \"Selecting a colored square will change the color of the model to that respective color. You can also input an hexadecimal color value in the box to have access to a larger range of colors!\"\r\n\r\n    ]\r\n},\r\n{\r\n    title: \"How can I modify the model's appearance?\",\r\n    text: [\r\n        'You can manipulate the appearance of each individual customizable surface in the \"Edit Surfaces\" tab of the toolbar.',\r\n        \"In this tab you can see all the surfaces (if any) that can be edited. Click or drag images to the squares with the add prompt in order to have that image imprinted on the surface!\",\r\n        'You can then change parameters of this imprinting via the menus assigned to each surface. \"Move/Rotate\" will allow you to change the positioning of the imprinting, while \"Volume\" will allow you to change the extrusion properties of the surface.',\r\n        'If the image you are trying to add is already an UV mapped texture built for the model, you can forgo the automatic correction by deselecting the \"Auto Correct\" option on the \"Move/Rotate\" submenu.',\r\n        'Selecting \"Clear\" will allow you remove that image/imprinting, while the checkmark allows you to hide or show the changes. Hidden changes will not affect the final model mesh.'\r\n\r\n    ]\r\n},\r\n{\r\n    title: \"What are these additional options?\",\r\n    text: [\r\n        'In the \"Settings\" tab, you have options that affect the application\\'s user experience, such as changing the viewing mode of the model. These do not affect the final product.'\r\n    ]\r\n}\r\n];\r\n\r\nexport default function HelpMenu() {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [title, setTitle] = React.useState(\"Title\");\r\n    const [text, setText] = React.useState([]);\r\n\r\n    const handleClickOpen = (title, text)  => () => {\r\n        setOpen(true);\r\n        setTitle(title);\r\n        setText(text);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                scroll=\"paper\"\r\n                aria-labelledby=\"scroll-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"scroll-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent dividers={true}>\r\n                        {text.map((paragraph, index) => (\r\n                            <DialogContentText key={index}>\r\n                                {paragraph}\r\n                            </DialogContentText>\r\n                        ))}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Box style={styles.helper}>\r\n                {helpSectionArray.map((help, index) => (\r\n                    <p key={index}><button type=\"button\" className=\"buttonlink\" onClick={handleClickOpen(help.title, help.text)}>{help.title}</button></p>\r\n                ))}\r\n            </Box>\r\n        </>\r\n    );\r\n}","import React, { Component } from 'react';\r\nimport '../css/App.css';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport HelpIcon from '@material-ui/icons/Help';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ColorLensIcon from '@material-ui/icons/ColorLens';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport ViewIcon from '@material-ui/icons/RemoveRedEye';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport { TwitterPicker } from 'react-color';\r\nimport Files from 'react-files';\r\n\r\nimport SurfaceList from './SurfaceList';\r\nimport HelpMenu from './HelpMenu';\r\n\r\n\r\nconst styles = {\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\toverflow: 'hidden',\r\n\t},\r\n\tsubroot: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tpaddingRight: '20px'\r\n\t},\r\n\theading: {\r\n\t\tfontSize: 15,\r\n\t\tfontWeight: 300,\r\n\t},\r\n\tcolorpicker: {\r\n\t\tmaxHeight: \"100px\",\r\n\t\toverflow: 'hidden'\r\n\t},\r\n\thelper: {\r\n\t\ttextAlign: \"left\",\r\n\t\tdisplay: \"inline-block\",\r\n\t\twhiteSpace: \"pre-wrap\",\r\n\t\twidth: \"100%\",\r\n\t\tmaxHeight: \"250px\",\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: \"hidden\"\r\n\t},\r\n\tuploader: {\r\n\t\tmargin: \"auto\",\r\n\t\theight: \"100px\",\r\n\t\tborder: \"3px dotted #a3a199\"\r\n\t},\r\n\tmobileTransparent: {\r\n\t\tbackgroundColor: window.LITHO3D.isMobile ? \"rgba(230,230,230,0.1)\" : \"rgba(255,255,255,1)\",\r\n\t},\r\n\ttoolbar: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\tpadding: '5px 8px'\r\n\t}\r\n};\r\n\r\nexport default class OptionMenu extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tmodel_uri: \"\",\r\n\t\t\tmodel_def_uri: \"\",\r\n\t\t\tmodel_type: \"\",\r\n\t\t\tsurfaceList: [],\r\n\t\t\tcolor: '#FCB900',\r\n\t\t\texpandedMenu: null,\r\n\t\t\tviewDisplay: \"color\",\r\n\t\t\tsnackbarOpen: false,\r\n\t\t\tsnackbarDuration: 0,\r\n\t\t\tsnackbarMsg: \"\",\r\n\t\t\tisUpload: true,\r\n\t\t\tisUploadDialogOpen: false,\r\n\t\t\tuploadedModel: null\r\n\t\t};\r\n\r\n\t\tthis.handleMenuChange = this.handleMenuChange.bind(this);\r\n\t\tthis.handleViewCheck = this.handleViewCheck.bind(this);\r\n\t\tthis.handleUploaderClose = this.handleUploaderClose.bind(this);\r\n\t\tthis.handleUploaderOpen = this.handleUploaderOpen.bind(this);\r\n\t\tthis.handleUploaderSave = this.handleUploaderSave.bind(this);\r\n\t\tthis.handleUploaderError = this.handleUploaderError.bind(this);\r\n\t\tthis.handleSnackbarClose = this.handleSnackbarClose.bind(this);\r\n\t\tthis.emitWarningMessage = this.emitWarningMessage.bind(this);\r\n\t\tthis.downloadModelOBJ = this.downloadModelOBJ.bind(this);\r\n\t\tthis.downloadModelSTL = this.downloadModelSTL.bind(this);\r\n\t\tthis.downloadModelGLB = this.downloadModelGLB.bind(this);\r\n\t\tthis.downloadJSON = this.downloadJSON.bind(this);\r\n\t\tthis.downloadZip = this.downloadZip.bind(this);\r\n\t}\r\n\r\n\t/** On mount, load default model */\r\n\tcomponentDidMount() {\r\n\t\tthis.props.loadingToggle(true);\r\n\t\tthis.getConfiguration().then(() => {\r\n\r\n\t\t\t//Load default model, if specified.\r\n\t\t\tif (this.state.model_uri !== \"\") {\r\n\t\t\t\tvar re = /(?:\\.([^.]+))?$/;\r\n\t\t\t\tvar format = re.exec(this.state.model_uri)[1];\r\n\t\t\t\tif (format === undefined) format = \"obj\";\r\n\t\t\t\tvar isUpload = this.state.model_type === window.LITHO3D.MODELTYPES.UPLOAD;\r\n\r\n\t\t\t\tthis.emitWarningMessage(\"Loading model...\", 60000);\r\n\t\t\t\twindow.LITHO3D.loadModel(this.state.model_uri, format, this.state.model_type, this.state.color)\r\n\t\t\t\t\t.then(surfaces => {\r\n\t\t\t\t\t\tthis.setState({ isUpload: isUpload, isUploadDialogOpen: false, surfaceList: surfaces },\r\n\t\t\t\t\t\t\tthis.props.loadingToggle(false));\r\n\t\t\t\t\t\tthis.emitWarningMessage(\"Model loaded.\", 1000);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.setState({ isUpload: isUpload, isUploadDialogOpen: isUpload });\r\n\t\t\t\t\t\tthis.emitWarningMessage(err.message);\r\n\t\t\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t});\r\n\t}\r\n\r\n\t/** Acquire default configurations from root element */\r\n\tgetConfiguration() {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tvar container = document.getElementById(\"root\");\r\n\t\t\tthis.setState({\r\n\t\t\t\tmodel_uri: container.hasAttribute('model_uri') ? container.getAttribute('model_uri') : \"\",\r\n\t\t\t\tmodel_def_uri: container.hasAttribute('model_def_uri') ? container.getAttribute('model_def_uri') : \"\",\r\n\t\t\t\tmodel_type: container.hasAttribute('model_type') ? container.getAttribute('model_type') : \"upload\",\r\n\t\t\t\tcolor: container.hasAttribute('defaultColor') ? container.getAttribute('defaultColor') : \"#FCB900\"\r\n\t\t\t}, resolve(true));\r\n\t\t});\r\n\t}\r\n\r\n\t/** Download the model in STL format */\r\n\tdownloadModelSTL() {\r\n\t\tthis.emitWarningMessage(\"Preparing STL file...\", 60000);\r\n\t\tthis.props.loadingToggle(true);\r\n\t\twindow.LITHO3D.downloadSTL(1, 1, 1, true, false).then(() => {\r\n\t\t\tthis.props.loadingToggle(false);\r\n\t\t\tthis.emitWarningMessage(\"File is ready for download.\", 500);\r\n\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t\tthis.emitWarningMessage(err.message);\r\n\t\t\t});\r\n\t}\r\n\t/** Download the model in OBJ format */\r\n\tdownloadModelOBJ() {\r\n\t\tthis.emitWarningMessage(\"Preparing OBJ file...\", 60000);\r\n\t\tthis.props.loadingToggle(true);\r\n\t\twindow.LITHO3D.downloadOBJ(1, 1, 1, true).then(() => {\r\n\t\t\tthis.props.loadingToggle(false);\r\n\t\t\tthis.emitWarningMessage(\"File is ready for download.\", 500);\r\n\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t\tthis.emitWarningMessage(err.message);\r\n\t\t\t});\r\n\t}\r\n\t/** Download the model in GLB format */\r\n\tdownloadModelGLB() {\r\n\t\tthis.emitWarningMessage(\"Preparing GLTF file...\", 60000);\r\n\t\tthis.props.loadingToggle(true);\r\n\t\twindow.LITHO3D.downloadGLTF(1, 1, 1, false, true).then(() => {\r\n\t\t\tthis.props.loadingToggle(false);\r\n\t\t\tthis.emitWarningMessage(\"File is ready for download.\", 500);\r\n\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t\tthis.emitWarningMessage(err.message);\r\n\t\t\t});\r\n\t}\r\n\t/** Download the model, images and settings in ZIP format */\r\n\tdownloadZip() {\r\n\t\tthis.emitWarningMessage(\"Preparing ZIP file...\", 60000);\r\n\t\tthis.props.loadingToggle(true);\r\n\t\twindow.LITHO3D.downloadZip().then(res => {\r\n\t\t\tthis.props.loadingToggle(false);\r\n\t\t\tthis.emitWarningMessage(\"File is ready for download.\", 500);\r\n\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t\tthis.emitWarningMessage(err.message);\r\n\t\t\t});\r\n\t}\r\n\t/** Download the settings in JSON format */\r\n\tdownloadJSON() {\r\n\t\tthis.emitWarningMessage(\"Downloading JSON file...\", 60000);\r\n\t\tthis.props.loadingToggle(true);\r\n\t\twindow.LITHO3D.downloadJSON().then(res => {\r\n\t\t\tthis.props.loadingToggle(false);\r\n\t\t\tthis.emitWarningMessage(\"File is ready for download.\", 500);\r\n\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.emitWarningMessage(err.message);\r\n\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\t/** Process the upload of a model file or zip */\r\n\thandleUploaderSave(files) {\r\n\t\tif (files.length > 0) {\r\n\t\t\tif (files[0].extension !== \"7z\") {\r\n\r\n\t\t\t\tvar uploadedModel = URL.createObjectURL(files[0]);\r\n\r\n\t\t\t\tthis.setState({ isUploadDialogOpen: false }, () => {\r\n\t\t\t\t\tthis.props.loadingToggle(true);\r\n\t\t\t\t\tthis.emitWarningMessage(\"Loading model...\", 60000);\r\n\t\t\t\t\twindow.LITHO3D.loadModel(uploadedModel, files[0].extension, this.state.model_type, this.state.color)\r\n\t\t\t\t\t\t.then(surfaces => {\r\n\t\t\t\t\t\t\tthis.setState({ surfaceList: [], model_def_uri: \"\" }, () => {\r\n\t\t\t\t\t\t\t\tif (this.state.uploadedModel) URL.revokeObjectURL(this.state.uploadedModel);\r\n\t\t\t\t\t\t\t\tthis.setState({ surfaceList: surfaces, uploadedModel: uploadedModel },\r\n\t\t\t\t\t\t\t\t\tthis.props.loadingToggle(false));\r\n\t\t\t\t\t\t\t\tthis.emitWarningMessage(\"Model loaded.\", 1000);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tURL.revokeObjectURL(uploadedModel);\r\n\t\t\t\t\t\t\tif (this.refs.upload) this.refs.upload.setState({ files: [] });\r\n\t\t\t\t\t\t\tthis.emitWarningMessage(err.message);\r\n\t\t\t\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t\t\t\t\tthis.setState({ isUploadDialogOpen: true });\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if (files[0].extension === \"7z\") {\r\n\t\t\t\tthis.setState({ isUploadDialogOpen: false }, () => {\r\n\t\t\t\t\tthis.props.loadingToggle(true);\r\n\t\t\t\t\tthis.emitWarningMessage(\"Unpacking zip file. Loading...\", 60000);\r\n\t\t\t\t\twindow.LITHO3D.loadZip(files[0])\r\n\t\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tsurfaceList: [],\r\n\t\t\t\t\t\t\t\tmodel_uri: \"\",\r\n\t\t\t\t\t\t\t\tmodel_def_uri: \"\"\r\n\t\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tsurfaceList: result.surfaceList,\r\n\t\t\t\t\t\t\t\t\tcolor: result.color,\r\n\t\t\t\t\t\t\t\t\tviewDisplay: result.viewMode,\r\n\t\t\t\t\t\t\t\t\tuploadedModel: result.model_url,\r\n\t\t\t\t\t\t\t\t\tmodel_type: result.model_type,\r\n\t\t\t\t\t\t\t\t\tmodel_uri: result.model_url,\r\n\t\t\t\t\t\t\t\t\tmodel_def_uri: result.model_def_url\r\n\t\t\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t\t\t\t\t\t\tthis.emitWarningMessage(\"Model loading complete.\", 500);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tif (this.refs.upload) this.refs.upload.setState({ files: [] });\r\n\t\t\t\t\t\t\tthis.emitWarningMessage(err.message);\r\n\t\t\t\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t\t\t\t\tthis.setState({ isUploadDialogOpen: true });\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleUploaderError(error, file) {\r\n\t\tthis.emitWarningMessage(error.message);\r\n\t}\r\n\thandleUploaderOpen() {\r\n\t\tthis.setState({ isUploadDialogOpen: true });\r\n\t}\r\n\thandleUploaderClose() {\r\n\t\tthis.setState({ isUploadDialogOpen: false });\r\n\t}\r\n\r\n\temitWarningMessage(message, duration = 5000) {\r\n\t\tthis.setState({ snackbarOpen: false, snackbarMsg: \"\", snackbarDuration: 0 },\r\n\t\t\t() => { this.setState({ snackbarOpen: true, snackbarMsg: message, snackbarDuration: duration }) });\r\n\t}\r\n\thandleSnackbarClose(event, reason) {\r\n\t\tif (reason === 'clickaway') { return; }\r\n\t\tthis.setState({ snackbarOpen: false, snackbarMsg: \"\", snackbarDuration: 0 });\r\n\t}\r\n\r\n\t/** Change currently selected toolbar menu/tab */\r\n\thandleMenuChange = panel => (event, isExpanded) => {\r\n\t\tthis.setState({ expandedMenu: isExpanded ? panel : false });\r\n\t\tthis.props.openFunction();\r\n\t};\r\n\r\n\t/** Process the change of viewer mode */\r\n\thandleViewCheck(event) {\r\n\t\tvar mode = event.target.value;\r\n\t\tif (this.state.viewDisplay !== mode) {\r\n\t\t\tthis.props.loadingToggle(true);\r\n\t\t\tif (window.LITHO3D.changeViewMode(mode)) {\r\n\t\t\t\tthis.setState({ viewDisplay: mode }, this.props.loadingToggle(false));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.emitWarningMessage(\"No model is available.\");\r\n\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/** Process the change of model color */\r\n\thandleColorChange = (color, event) => {\r\n\t\tif (this.state.color !== color.hex) {\r\n\t\t\tif(this.props.isMobile)\r\n\t\t\t\tthis.props.warningFunc(\"Changing model color...\", 10000);\r\n\t\t\tthis.props.loadingToggle(true);\r\n\t\t\tif (window.LITHO3D.colorize(color.hex)) {\r\n\t\t\t\tthis.setState({ color: color.hex });\r\n\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t\tif(this.props.isMobile)\r\n\t\t\t\t\tthis.props.warningFunc(\"New model color was set.\", 500);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.emitWarningMessage(\"No model is available to color.\");\r\n\t\t\t\tthis.props.loadingToggle(false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={styles.root}>\r\n\t\t\t\t<div style={styles.subroot} className='hide-scrollbar'>\r\n\r\n\t\t\t\t\t{/* MODEL UPLOAD DIALOG */}\r\n\t\t\t\t\t<Dialog open={this.state.isUploadDialogOpen} onClose={this.handleUploaderClose} aria-labelledby=\"form-dialog-title\">\r\n\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Upload a 3D model</DialogTitle>\r\n\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t<Files\r\n\t\t\t\t\t\t\t\tclassName='files-dropzone'\r\n\t\t\t\t\t\t\t\tonChange={this.handleUploaderSave}\r\n\t\t\t\t\t\t\t\tonError={this.handleUploaderError}\r\n\t\t\t\t\t\t\t\taccepts={['.obj', '.glb', '.7z']}\r\n\t\t\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\t\t\tmaxFiles={1}\r\n\t\t\t\t\t\t\t\tmaxFileSize={100000000}\r\n\t\t\t\t\t\t\t\tminFileSize={0}\r\n\t\t\t\t\t\t\t\tref='upload'\r\n\t\t\t\t\t\t\t\tclickable\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Box display=\"flex\" px={3} py={5} alignItems=\"center\" justifyContent=\"center\" style={styles.uploader}>\r\n\t\t\t\t\t\t\t\t\t<Typography>Drop files here or click to upload.</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Files>\r\n\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t<Button onClick={this.handleUploaderClose} color=\"primary\">\r\n\t\t\t\t\t\t\t\tClose\r\n          \t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t</Dialog>\r\n\r\n\t\t\t\t\t{/* WARNING MESSAGES */}\r\n\t\t\t\t\t<Snackbar\r\n\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\topen={this.state.snackbarOpen}\r\n\t\t\t\t\t\tautoHideDuration={this.state.snackbarDuration}\r\n\t\t\t\t\t\tonClose={this.handleSnackbarClose}\r\n\t\t\t\t\t\tContentProps={{\r\n\t\t\t\t\t\t\t'aria-describedby': 'message-id',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tmessage={<span id=\"message-id\">{this.state.snackbarMsg}</span>}\r\n\t\t\t\t\t\taction={[\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey=\"close\"\r\n\t\t\t\t\t\t\t\taria-label=\"close\"\r\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\tonClick={this.handleSnackbarClose}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t</IconButton>,\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/* MENU HEADER */}\r\n\t\t\t\t\t{window.LITHO3D.isMobile ?\r\n\t\t\t\t\t\t<div style={styles.toolbar}>\r\n\t\t\t\t\t\t\t<IconButton onClick={this.props.openToggle}>\r\n\t\t\t\t\t\t\t\t{this.props.open ? <ChevronRightIcon /> : <MenuIcon />}\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</div> : null}\r\n\r\n\r\n\t\t\t\t\t{/* UPLOAD MENU */}\r\n\t\t\t\t\t{this.state.isUpload ? <React.Fragment>\r\n\t\t\t\t\t\t<ExpansionPanel elevation={window.LITHO3D.isMobile ? 0 : 1} style={styles.mobileTransparent} expanded={this.props.open && (this.state.expandedMenu === 'upload')} onChange={this.handleMenuChange('upload')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\t\taria-controls=\"panel1a-content\"\r\n\t\t\t\t\t\t\t\tid=\"panel1a-header\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><PublishIcon /></ListItemIcon><Typography>Change Model</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><PublishIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.handleUploaderOpen} color=\"primary\">Upload a new model</Button>\r\n\t\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t\t</ExpansionPanel></React.Fragment> : null}\r\n\r\n\r\n\t\t\t\t\t{/* COLOR CHANGE MENU */}\r\n\t\t\t\t\t<ExpansionPanel elevation={window.LITHO3D.isMobile ? 0 : 1} style={styles.mobileTransparent} expanded={this.props.open && (this.state.expandedMenu === 'color')} onChange={this.handleMenuChange('color')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\taria-controls=\"panel1a-content\"\r\n\t\t\t\t\t\t\tid=\"panel1a-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><ColorLensIcon /></ListItemIcon><Typography>Color</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><ColorLensIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<Box style={styles.colorpicker}>\r\n\t\t\t\t\t\t\t\t<TwitterPicker\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\tcolor={this.state.color}\r\n\t\t\t\t\t\t\t\t\tonChangeComplete={this.handleColorChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\r\n\r\n\t\t\t\t\t{/* SURFACE EDIT MENU */}\r\n\t\t\t\t\t<ExpansionPanel elevation={window.LITHO3D.isMobile ? 0 : 1} style={styles.mobileTransparent} expanded={this.props.open && (this.state.expandedMenu === 'surfaces')} onChange={this.handleMenuChange('surfaces')}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\taria-controls=\"panel2a-content\"\r\n\t\t\t\t\t\t\tid=\"panel2a-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><BuildIcon /></ListItemIcon><Typography>Edit Surfaces</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><BuildIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<SurfaceList\r\n\t\t\t\t\t\t\t\tloading={this.props.loadingToggle}\r\n\t\t\t\t\t\t\t\tisUpload={this.state.uploadedModel !== null}\r\n\t\t\t\t\t\t\t\tmodel_def_uri={this.state.model_def_uri}\r\n\t\t\t\t\t\t\t\tsurfaces={this.state.surfaceList}\r\n\t\t\t\t\t\t\t\twarningFunc={this.emitWarningMessage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\r\n\r\n\t\t\t\t\t{/* OPTIONS MENU */}\r\n\t\t\t\t\t<ExpansionPanel elevation={window.LITHO3D.isMobile ? 0 : 1} style={styles.mobileTransparent} expanded={this.props.open && (this.state.expandedMenu === 'options')} onChange={this.handleMenuChange('options')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\taria-controls=\"panel2a-content\"\r\n\t\t\t\t\t\t\tid=\"panel2a-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><SettingsIcon /></ListItemIcon><Typography>Settings</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><SettingsIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t\t\t\t\t<FormLabel component=\"legend\"><ListItemIcon><ViewIcon /></ListItemIcon><Typography>Viewer Display</Typography></FormLabel>\r\n\t\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\t\taria-label=\"display\"\r\n\t\t\t\t\t\t\t\t\tname=\"display1\"\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.viewDisplay}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleViewCheck}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"color\" control={<Radio />} label=\"Color/Material\" />\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"texture\" control={<Radio />} label=\"Texture Mapping\" />\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"wireframe\" control={<Radio />} label=\"Wireframe View\" />\r\n\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\r\n\r\n\t\t\t\t\t{/* HELP MENU */}\r\n\t\t\t\t\t<ExpansionPanel elevation={window.LITHO3D.isMobile ? 0 : 1} style={styles.mobileTransparent} expanded={this.props.open && (this.state.expandedMenu === 'help')} onChange={this.handleMenuChange('help')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\taria-controls=\"panel2a-content\"\r\n\t\t\t\t\t\t\tid=\"panel2a-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><HelpIcon /></ListItemIcon><Typography>Help</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><HelpIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<HelpMenu />\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\r\n\r\n\t\t\t\t\t{/* DOWNLOAD/SERVER MENU */}\r\n\t\t\t\t\t{this.state.isUpload ? <React.Fragment>\r\n\t\t\t\t\t\t<ExpansionPanel elevation={window.LITHO3D.isMobile ? 0 : 1} style={styles.mobileTransparent} expanded={this.props.open && (this.state.expandedMenu === 'download')} onChange={this.handleMenuChange('download')} TransitionProps={{ unmountOnExit: true }}>\r\n\t\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\t\texpandIcon={this.props.open ? <ExpandMoreIcon /> : null}\r\n\t\t\t\t\t\t\t\taria-controls=\"panel1a-content\"\r\n\t\t\t\t\t\t\t\tid=\"panel1a-header\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.props.open ? <React.Fragment><ListItemIcon><CloudDownloadIcon /></ListItemIcon><Typography>Download Model</Typography></React.Fragment> :\r\n\t\t\t\t\t\t\t\t\t<Box ml={3}><ListItemIcon><CloudDownloadIcon /></ListItemIcon></Box>}\r\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t\t<Box display=\"flex\" flexWrap=\"wrap\">\r\n\t\t\t\t\t\t\t\t\t<Box display=\"flex\" flexWrap=\"wrap\">\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.downloadModelOBJ} color=\"primary\">Download OBJ</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.downloadModelGLB} color=\"primary\">Download GLTF</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.downloadModelSTL} color=\"primary\">Download STL</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.downloadJSON} color=\"primary\">Download JSON</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={this.downloadZip} color=\"primary\">Download ZIP</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t\t</ExpansionPanel></React.Fragment> : null}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nimport { Swipeable } from 'react-swipeable';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\n\r\nimport OptionMenu from './OptionMenu';\r\n\r\n\r\n//Width of the drawer/toolbar\r\nconst drawerWidth = 350;\r\n\r\nconst isMobile = window.LITHO3D.isMobile;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    backgroundColor: isMobile ? \"rgba(230,230,230,0)\" : \"rgba(255,255,255,1)\",\r\n    backgroundImage: isMobile ? \"linear-gradient(to right, rgba(230,230,230,0.3), rgba(255,255,255,1) 85%)\" : \"linear-gradient(rgba(255,255,255,1), rgba(255,255,255,1))\",\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerClose: {\r\n    backgroundColor: isMobile ? \"rgba(230,230,230,0)\" : \"rgba(255,255,255,1)\",\r\n    backgroundImage: isMobile ? \"linear-gradient(to right, rgba(230,230,230,0.3), rgba(255,255,255,1) 85%)\" : \"linear-gradient(rgba(255,255,255,1), rgba(255,255,255,1))\",\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: theme.spacing(7) + 1,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(7) + 1,\r\n    },\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function ToolbarMenu(props) {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  function handleDrawerOpen() {\r\n    setOpen(true);\r\n  }\r\n\r\n  function handleDrawerClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function handleDrawerToggle() {\r\n    setOpen(!open);\r\n  }\r\n\r\n  function handleSwipe(event){\r\n    if(event.dir === \"Left\" && !open){\r\n      handleDrawerOpen();\r\n    }\r\n    else if(event.dir === \"Right\" && open){\r\n      handleDrawerClose();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Swipeable \r\n        onSwiping={handleSwipe}\r\n        delta= {20}\r\n      >\r\n        <SwipeableDrawer\r\n          variant=\"permanent\"\r\n          className={clsx(classes.drawer, {\r\n            [classes.drawerOpen]: open,\r\n            [classes.drawerClose]: !open,\r\n          })}\r\n          classes={{\r\n            paper: clsx({\r\n              [classes.drawerOpen]: open,\r\n              [classes.drawerClose]: !open,\r\n            }),\r\n          }}\r\n          onClose={handleDrawerClose}\r\n          onOpen={handleDrawerOpen}\r\n          PaperProps={{ style: { position: 'absolute' } }}\r\n          BackdropProps={{ style: { position: 'absolute' } }}\r\n          ModalProps={{\r\n            container: document.getElementById('drawer-container'),\r\n            style: { position: 'absolute' }\r\n          }}\r\n          open={open}\r\n          anchor=\"right\"\r\n        >\r\n          {!isMobile ? \r\n          <div className={classes.toolbar}>\r\n            <IconButton onClick={handleDrawerToggle}>\r\n              {open ? <ChevronRightIcon /> : <MenuIcon />}\r\n            </IconButton>\r\n          </div> : null}\r\n          <OptionMenu open={open} openToggle={handleDrawerToggle} openFunction={handleDrawerOpen} loadingToggle={props.loadingFunction} />\r\n\r\n        </SwipeableDrawer>\r\n      </Swipeable>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { Component } from 'react';\nimport '../css/App.css';\n\nimport Box from '@material-ui/core/Box';\n\nimport Viewer3D from './Viewer3D';\nimport ToolbarMenu from './ToolbarMenu';\n\n\nexport default class App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: false\n\t\t};\n\t\tthis.toggleLoading = this.toggleLoading.bind(this);\n\t}\n\n\ttoggleLoading(state) {\n\t\tthis.setState({ loading: state });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\", height: \"100%\", width: \"100%\", overflow: \"hidden\" }}>\n\t\t\t\t<Box display=\"flex\" height=\"100%\" width=\"100%\">\n\t\t\t\t\t<Box id=\"viewer-container\" height=\"100%\">\n\t\t\t\t\t\t<Viewer3D loading={this.state.loading} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box height=\"100%\" width=\"60px\" id=\"drawer-container\" position=\"relative\">\n\t\t\t\t\t\t<ToolbarMenu loadingFunction={this.toggleLoading}>\n\t\t\t\t\t\t</ToolbarMenu>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</div>\n\t\t);\n\t}\n\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}